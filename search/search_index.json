{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Overview","text":"<p>Dataview is a live index and query engine over your personal knowledge base. You can add metadata to your notes and query them with the Dataview Query Language to list, filter, sort or group your data. Dataview keeps your queries always up to date and makes data aggregation a breeze.</p> <p>You could</p> <ul> <li>Track your sleep by recording it in daily notes, and automatically create weekly tables of your sleep schedule.</li> <li>Automatically collect links to books in your notes, and render them all sorted by rating.</li> <li>Automatically collect pages associated with today's date and show them in your daily note.</li> <li>Find pages with no tags for follow-up, or show pretty views of specifically-tagged pages.</li> <li>Create dynamic views which show upcoming birthdays or events recorded in your notes</li> </ul> <p>and many more things.</p> <p>Dataview gives you a fast way to search, display and operate on indexed data in your vault!</p> <p>Dataview is highly generic and high performance, scaling up to hundreds of thousands of annotated notes without issue. </p> <p>If the built in query language is insufficient for your purpose, you can run arbitrary JavaScript against the dataview API and build whatever utility you might need yourself, right in your notes.</p> <p>Dataview is about displaying, not editing</p> <p>Dataview is meant for displaying and calculating data. It is not meant to edit your notes/metadata and will always leave them untouched (... except if you're checking a Task through Dataview.)</p>"},{"location":"#how-to-use-dataview","title":"How to Use Dataview","text":"<p>Dataview consists of two big building blocks: Data Indexing and Data Querying. </p> <p>More details on the linked documentation pages</p> <p>The following sections should give you a general overview about what you can do with dataview and how. Be sure to visit the linked pages to find out more about the individual parts.</p>"},{"location":"#data-indexing","title":"Data Indexing","text":"<p>Dataview operates on metadata in your Markdown files. It cannot read everything in your vault, but only specific data. Some of your content, like tags and bullet points (including tasks), are available automatically in Dataview. You can add other data through fields, either on top of your file per YAML Frontmatter or in the middle of your content with Inline Fields via the <code>[key:: value]</code> syntax. Dataview indexes these data to make it available for you to query. </p> <p>Dataview indexes certain information like tags and list items and the data you add via fields. Only indexed data is available in a Dataview query!</p> <p>For example, a file might look like this:</p> <pre><code>---\nauthor: \"Edgar Allan Poe\"\npublished: 1845\ntags: poems\n---\n\n# The Raven\n\nOnce upon a midnight dreary, while I pondered, weak and weary,\nOver many a quaint and curious volume of forgotten lore\u2014\n</code></pre> <p>Or like this:</p> <pre><code>#poems\n\n# The Raven\n\nFrom [author:: Edgar Allan Poe], written in (published:: 1845)\n\nOnce upon a midnight dreary, while I pondered, weak and weary,\nOver many a quaint and curious volume of forgotten lore\u2014\n</code></pre> <p>In terms of indexed metadata (or what you can query), they are identical, and only differ in their annotation style. How you want to annotate your  metadata is up to you and your personal preference. With this file, you'd have the metadata field <code>author</code> available and everything Dataview provides you automatically as implicit fields, like the tag or note title. </p> <p>Data needs to be indexed</p> <p>In the above example, you do not have the poem itself available in Dataview: It is a paragraph, not a metadata field and not something Dataview indexes automatically. It is not part of Dataviews index, so you won't be able to query it.</p>"},{"location":"#data-querying","title":"Data Querying","text":"<p>You can access indexed data with the help of Queries.</p> <p>There are three different ways you can write a Query: With help of the Dataview Query Language, as an inline statement or in the most flexible but most complex way: as a Javascript Query. </p> <p>The Dataview Query Language (DQL) gives you a broad and powerful toolbelt to query, display and operate on your data. An inline query gives you the possibility to display exactly one indexed value anywhere in your note. You can also do calculations this way. With DQL at your hands, you'll be probably fine without any Javascript through your data journey.</p> <p>A DQL Query consists of several parts:</p> <ul> <li>Exactly one Query Type that determines what your Query Output looks like</li> <li>None or one FROM statement to pick a specific tag or folder (or another source) to look at</li> <li>None to multiple other Data Commands that help you filter, group and sort your wanted output</li> </ul> <p>For example, a Query can look like this:</p> <pre><code>```dataview\nLIST\n```\n</code></pre> <p>which list all files in your vault. </p> <p>Everything but the Query Type is optional</p> <p>The only thing you need for a valid DQL Query is the Query Type (and on CALENDARs, a date field.)</p> <p>A more restricted Query might look like this:</p> <pre><code>```dataview\nLIST\nFROM #poems\nWHERE author = \"Edgar Allan Poe\"\n```\n</code></pre> <p>which lists all files in your vault that have the tag <code>#poems</code> and a field named <code>author</code> with the value <code>Edgar Allan Poe</code>. This query would find our example page from above. </p> <p><code>LIST</code> is only one out of four Query Types you can use. For example, with a <code>TABLE</code>, we could add some more information to our output: </p> <pre><code>```dataview\nTABLE author, published, file.inlinks AS \"Mentions\"\nFROM #poems\n```\n</code></pre> <p>This'll give you back a result like:</p> File (3) author published Mentions The Bells Edgar Allan Poe 1849 The New Colossus Emma Lazarus 1883 - [[Favorite Poems]] The Raven Edgar Allan Poe 1845 - [[Favorite Poems]] <p>That's not where the capabilities of dataview end, though. You can also operate on your data with help of functions. Mind that these operations are only made inside your query - your data in your files stays untouched.</p> <pre><code>```dataview\nTABLE author, date(now).year - published AS \"Age in Yrs\", length(file.inlinks) AS \"Counts of Mentions\"\nFROM #poems\n```\n</code></pre> <p>gives you back</p> File (3) author Age in Yrs Count of Mentions The Bells Edgar Allan Poe 173 0 The New Colossus Emma Lazarus 139 1 The Raven Edgar Allan Poe 177 1 <p>Find more examples here.</p> <p>As you can see, dataview doesn't only allow you to aggregate your data swiftly and always up to date, it also can help you with operations to give you new insights on your dataset. Browse through the documentation to find out more on how to interact with your data.</p> <p>Have fun exploring your vault in new ways! </p>"},{"location":"#resources-and-help","title":"Resources and Help","text":"<p>This documentation is not the only place that can help you out on your data journey. Take a look at Resources and Support for a list of helpful pages and videos.</p>"},{"location":"changelog/","title":"0.5.68","text":"<ul> <li>Many fixes to the documentation</li> <li> </li> <li>New/documented functions for <code>unique()</code>, <code>display()</code>, <code>firstvalue()</code></li> <li>Added DOM information related to standalone inline fields</li> </ul> <p>This is the first release done by @holroy, so thanks to him for further developing of Dataview. Thank you also to all the people having contributed through PRs and issues.</p>"},{"location":"changelog/#2318-co-various-fixes-related-to-live-preview-rendering-of-lists","title":"2318 &amp; co: Various fixes related to live preview rendering of lists","text":""},{"location":"changelog/#0567","title":"0.5.67","text":"<p>Includes several documentation fixes and several community-contributed bug fixes.</p> <ul> <li>@reply2za: Fixed inline rendering in the reading view.</li> <li>@carlesalbasboix: Adds sum(), avg(), min(), and max() to data arrays.</li> <li>@mnaoumov: Adds code mirror configuration which code highlights dataviewjs!</li> </ul>"},{"location":"changelog/#0566","title":"0.5.66","text":"<p>Bugfix for version comparisons to fix some other plugins having broken interactions with Dataview.</p>"},{"location":"changelog/#0565","title":"0.5.65","text":"<p>A maintenance update which fixes some issues with rendering embeds in Dataviews and adds a few new functions.</p> <ul> <li>Adds the <code>hash()</code> function for generating consistent uniformly-distributed values given arbitrary inputs. Primarily useful for creating \"random\" views which remain consistent across page refreshes. Thanks to @holroy.</li> <li>Adds the <code>slice()</code> function for slicing arrays, similar to Javascript's <code>Array.slice</code>. Thanks to @holroy.</li> <li>Fixes several issues with rendering embeds inside dataviews. Thanks to @GottZ.</li> <li>Several documentation improvements around tasks - thanks to @holroy and @RaviOnline.</li> </ul>"},{"location":"changelog/#0564","title":"0.5.64","text":"<p>More bug fixes for inline field rendering.</p>"},{"location":"changelog/#0563","title":"0.5.63","text":"<ul> <li>More bugfixes from @RyotaUshio for rendering Markdown paragraphs and other blocks in DataviewJS.</li> </ul>"},{"location":"changelog/#0562","title":"0.5.62","text":"<p>Several more inline field fixes from @RyotaUshio, including more configuration options, fixing inline fields being rendered inside codeblocks, and more. Thanks!</p>"},{"location":"changelog/#0561","title":"0.5.61","text":"<ul> <li>@RyotaUshio: Fix several bugs related to the new inline field rendering, including source mode and fixing date formatting.</li> </ul>"},{"location":"changelog/#0560","title":"0.5.60","text":"<ul> <li>@RyotaUshio: Add explicit rendering of inline fields in live preview. They are much more visually distinct now!</li> <li>@MarioRicalde: Adds <code>PluginApi#evaluateInline(expression, path)</code> to the plugin API, which evaluate expressions as if you were on the given page.</li> </ul>"},{"location":"changelog/#0559","title":"0.5.59","text":"<ul> <li>Fix an issue with the plugin failing to run on iOS due to an esoteric regex issue.</li> </ul>"},{"location":"changelog/#0558","title":"0.5.58","text":"<ul> <li>Negative durations will now be properly rendered.</li> </ul>"},{"location":"changelog/#0557","title":"0.5.57","text":"<p>Maintenance patch which bumps many internal dependency versions and which includes approximately ~20 community-contributed PRs which add some new functions, fix some Dataview interactions with properties, and more!</p>"},{"location":"changelog/#unreleased","title":"Unreleased","text":"<ul> <li>DQL: Adds new <code>durationformat(duration, string)</code> function.</li> <li>DQL: New math rounding functions, <code>trunc(number)</code>, <code>floor(number)</code>, <code>ceil(number)</code>.</li> </ul>"},{"location":"changelog/#0556","title":"0.5.56","text":"<ul> <li>Includes some performance fixes on recent versions of Obsidian 1.3+ due to some API changes. Thanks @kometenstaub.</li> <li>Documentation cleanups and improvements by @mocsa, @protofarer, @seanlzx, and @somidad.</li> <li>Adds the new <code>flat(array)</code> method for flattening nested arrays, as well as parsing dates using arbitrary formats using   <code>date(text, \"format\")</code>. Thanks @holroy!</li> </ul>"},{"location":"changelog/#0555","title":"0.5.55","text":"<ul> <li>Durations are now internationalized using luxon's new internationalization support.</li> <li>Dataviews should now properly render inside Canvas and some other contexts. Thanks @GamerGirlandCo!</li> </ul>"},{"location":"changelog/#0554","title":"0.5.54","text":"<ul> <li>Regular list items are now also clickable in task views, not just task lines! Thanks to @LilaRest.</li> </ul>"},{"location":"changelog/#0553","title":"0.5.53","text":"<ul> <li>Fix some documentation issues causing docs to not be updated.</li> </ul>"},{"location":"changelog/#0552","title":"0.5.52","text":"<p>Substantial documentation improvements thanks to @s-blu and @AB1908!</p> <ul> <li>For people concerned about dataviewjs code execution from copy-pasting, @eyuelt has made it possible to change the   dataviewjs codeblock prefix.</li> <li>@sohanglal has added some documentation for <code>task.visual</code> for changing the visual text of a task.</li> <li>@Chouffy and @Daryl-Horton have fixed some bad documentation links!</li> <li>@vrtmrz swapped the regex used for parsing tags to better match Obsidian's own parser.</li> <li>@alexfertel has added <code>regextest</code>, which allows for matching parts of a string instead of the whole thing.</li> <li>@iamrecursion has added more metadata to file links, so they now include section metadata. This may cause some slight   visual changes in link views.</li> </ul>"},{"location":"changelog/#0551-beta","title":"0.5.51 (Beta)","text":"<ul> <li>Allow disabling regular Dataview inline queries via configuration option.</li> </ul>"},{"location":"changelog/#0550-beta","title":"0.5.50 (Beta)","text":"<ul> <li>Expose dataview EXPRESSION and QUERY parsing to the dataview npm plugin, so others can parse dataview ASTs.</li> <li>Fix documentation issue with <code>join</code>.</li> </ul>"},{"location":"changelog/#0549-beta","title":"0.5.49 (Beta)","text":"<ul> <li>Add the <code>average</code> function to compute averages of lists (<code>average([list of things])</code>).</li> <li>Added documentation for <code>average</code>, <code>min</code>, <code>max</code>, <code>minby</code>, and <code>maxby</code> functions.</li> <li>Fixed the broken <code>nonnull</code> function and documented it.</li> </ul>"},{"location":"changelog/#0548-beta","title":"0.5.48 (Beta)","text":"<p>We're back to more regular beta releases while I trial out new functionality!</p> <ul> <li>Fixed broken list behavior for <code>dv.markdownTaskList</code>.</li> <li>@GamerGirlandCo: Better handling of block IDs when checking off tasks!</li> <li>@s-blu and @AB1908: Lots of big documentation upgrades! Nice!</li> <li>@leoccyao: More block ID task checking fixes. Should work after this one.</li> <li>Add expression/query parsing to the dataview NPM package.</li> <li>@charleshan: Fix a missing header level in the dataview <code>dv.header</code> example.</li> </ul>"},{"location":"changelog/#0547","title":"0.5.47","text":"<p>Improves <code>date + duration</code> behavior when either the date or duration are null.</p>"},{"location":"changelog/#0546","title":"0.5.46","text":"<ul> <li>Fix #1412: Fix bad <code>file.cday</code> and <code>file.ctime</code> comparisons due to wrong timezone being set. Ugh.</li> </ul>"},{"location":"changelog/#0545","title":"0.5.45","text":"<ul> <li>Fix bad table highlighting in some themes.</li> </ul>"},{"location":"changelog/#1400-properly-use-the-group-by-field-for-the-group-name","title":"1400: Properly use the group by field for the group name.","text":""},{"location":"changelog/#0544","title":"0.5.44","text":"<ul> <li>Fixed some build non-determinism issues.</li> <li>Swapped to pull requests for adding new functionality, and added some more internal tests.</li> </ul>"},{"location":"changelog/#1404-fixed-dates-in-non-local-timezones-parsing-incorrectly","title":"1404: Fixed dates in non-local timezones parsing incorrectly.","text":""},{"location":"changelog/#0543","title":"0.5.43","text":"<ul> <li>Fix #1366: Better handling of calendar emoji (used as due dates in tasks).</li> </ul>"},{"location":"changelog/#0542","title":"0.5.42","text":"<p>It's been over a month since the last release! Anyway, this release bundles several nice user-contributed features:</p> <ul> <li>@AB1908: Tag queries are now case insensitive.</li> <li>@AB1908: Shift-clicking a link/task to open in a new tab now works properly on Mac.</li> <li>@AB1908: Numerous documentation fixes for clarity and more examples.</li> <li>@AnnaKornfeldSimpson: Additional emoji shorthands for more task fields (finished, due).</li> <li>@ooker777: Documentation improvements for some DataviewJS functions, and the ability to use inline emoji for the   completion tracking feature.</li> <li>@mt-krainski: Custom date formats for task completions.</li> <li>@gentlegiantJGC: Better support for nested inline fields (i.e., less crashy).</li> </ul>"},{"location":"changelog/#0541","title":"0.5.41","text":"<ul> <li>Fix a bad regex doing escaping in markdown tables.</li> <li>Improve async documentation.</li> </ul>"},{"location":"changelog/#0540","title":"0.5.40","text":"<p>Adds some more documentation about the new markdown functionality.</p>"},{"location":"changelog/#0539","title":"0.5.39","text":"<ul> <li>Fixed an issue where checking a task in a task view would check the wrong box visually.</li> <li>Added experimental plugin APIs for querying dataview directly as markdown, and converting dataview results to properly   formatted markdown.</li> </ul>"},{"location":"changelog/#0538","title":"0.5.38","text":"<ul> <li>Some minor documentation improvements.</li> <li>Fix an issue with inline fields rendering out of order. That was a weird bug.</li> </ul>"},{"location":"changelog/#0537","title":"0.5.37","text":"<p>Fixes inline field rendering to once again work for highlighting/links, as well as some other rendering quirks with inline queries in codeblocks.</p>"},{"location":"changelog/#0536","title":"0.5.36","text":"<ul> <li>Fix a bug when checking if an element is an HTMLElement.</li> <li>Properly include the nice improvements to the file count in tables and lists.</li> </ul>"},{"location":"changelog/#0535","title":"0.5.35","text":"<ul> <li>Fix #1196, #1176: Re-enable HTML values. This was never a featured I advertised since it was just for some internal   hackery, but it appears people just discovered it in DataviewJS queries.</li> <li>Improved initial time to popular queries that use <code>file.starred</code>.</li> </ul>"},{"location":"changelog/#0534","title":"0.5.34","text":"<ul> <li>Fix #1174: Fix indexing with a variable.</li> <li>Fix an issue with the experimental calendar view.</li> </ul>"},{"location":"changelog/#0533","title":"0.5.33","text":"<ul> <li>Fix a bug with inline views that was introduced in 0.5.32.</li> </ul>"},{"location":"changelog/#0532","title":"0.5.32","text":"<p>The Dataview API has been noticeably revamped - there are now approximately twice as many functions available on the plugin API as there were before, and some additional utilities have been added to both the plugin and inline API. I will be finishing up the associated new \"extension\" functionality shortly, which will allow:</p> <ol> <li>For custom Dataview + DataviewJS functions to be added via plugins.</li> <li>For custom renderable objects (progress bars, embedded task lists, embedded tables) to be added to any Dataview view via plugins.</li> <li>For plugins to provide alternative behavior for some dataview functionality (such as integrating task plugins with    the dataview task query).</li> </ol> <p>As part of the API revamp, it is now possible to programmatically execute Dataview and DataviewJS queries - either for using the existing Dataview query language in your own plugin, or for embedding dataview. The Dataview npm library also now exposes many useful internal Dataview types, including the AST structure for all dataview queries.</p> <p>I am hoping that cleaning up the Dataview API and making it much more extensible will allow for Dataview to integrate much better with existing plugins, and to provide the full power of the in-memory index for plugins. I have been very carefully watching index performance in recent weeks to ensure smooth frontend performance for anyone using the API (with a goal of &lt;10ms for most queries).</p>"},{"location":"changelog/#0531","title":"0.5.31","text":"<p>Tasks now have an <code>outlinks</code> list field which includes all links in the task; this can be used for finding tasks with links in them.</p>"},{"location":"changelog/#0530","title":"0.5.30","text":"<ul> <li> <p>Added the <code>typeof(any)</code> function in Dataview, which obtains the type of any value for comparison: <pre><code>typeof(\"text\") = \"string\"\ntypeof(1) = \"number\"\ntypeof([1, 2, 3]) = \"array\"\n</code></pre></p> </li> <li> <p>Added the modulo operator (<code>%</code>) for doing integer division remainder. I.e., <code>14 % 2 = 0</code> and <code>14 % 3 = 2</code>.</p> </li> <li>Fixed some minor spacing issues with lists in tables.</li> </ul>"},{"location":"changelog/#0529","title":"0.5.29","text":"<p>Fix another subtle incompatibility between 0.4.26 and 0.5.29 - if you frequently used empty inline fields (like <code>Key::</code> with no value), the 0.5+ behavior is now the same as 0.4 behavior and will map such fields to null instead of an empty string.</p> <p>This may fix a broad variety of \"subtly wrong\" queries that you may have seen after the upgrade.</p>"},{"location":"changelog/#0528","title":"0.5.28","text":"<ul> <li>Fix a bug with some more string concatenations and null handling.</li> </ul>"},{"location":"changelog/#0527","title":"0.5.27","text":"<p>More performance + correctness bugfixes.</p> <ul> <li>The parser has been made a little more robust to prevent major indexing issues (or at least recover from them   quickly).</li> <li>Several new strange tag variants are now supported.</li> <li>Markdown links are now properly indexed again.</li> </ul> <p>Some DataviewJS performance issues should be resolved now, especially for external plugins using Dataview. This fix does involve a slight API break w.r.t. what types are wrapped into Dataview Arrays (which provide functions like <code>.where()</code>). Generally, only Dataview-provided implicits are wrapped in data arrays now; frontmatter and inline fields are always now regular JS arrays - use <code>dv.array()</code> to explicitly make a data array if you want the advanced querying.</p>"},{"location":"changelog/#0526","title":"0.5.26","text":"<p>More small bugfixes:</p> <ul> <li>Fix a few small link rendering issues.</li> <li>Tag extraction from tasks now handles punctuation properly.</li> <li>Upgrade luxon (which is embedded in DataviewJS) to 2.4.0.</li> </ul>"},{"location":"changelog/#0525","title":"0.5.25","text":"<ul> <li>Fix #1147: Fix there being a <code>#null</code> tag for files with an empty <code>tag</code> or <code>tags</code> frontmatter.</li> </ul>"},{"location":"changelog/#0524","title":"0.5.24","text":"<p>Several bugfixes:</p> <ul> <li>Nulls are now sorted first rather than last; it's generally good practice to explicitly check for nulls in your   queries to avoid strange behavior.</li> <li>Dataview now properly parses space-delimited tags (like <code>tags: abc def ghi</code>).</li> <li>Dataview now supports dropping the entire file cache in case of bugs.</li> </ul>"},{"location":"changelog/#0523","title":"0.5.23","text":"<ul> <li>Fix #1140: Force API objects to be arrays if they are iterables.</li> </ul>"},{"location":"changelog/#0522","title":"0.5.22","text":"<ul> <li>Fix #1135: Use 'x' instead of 'X' for checkboxes.</li> </ul>"},{"location":"changelog/#0521","title":"0.5.21","text":"<p>A long-overdue swap from the beta branch to the stable branch. The beta branch should not include any (intended) breaking changes, and has some nice performance improvements that come along with it! Here are the major changes:</p> <ul> <li>Most views now use React and no longer flicker when updating; this is not the case yet for DataviewJS, which will be   getting equivalent treatment in the future.</li> <li>Dataview now caches metadata, so Dataview loads are very fast after the first time you open your vault. Dataview still   needs to visit every file when you update the plugin version, so that should be the only times you experience slower   load times.</li> <li>A brand new task view backend and query which allows you to filter per-task, rather than per-page! Check the   documentation for details, but this broadly means <code>WHERE</code> statements now use task properties instead of page   properties.</li> <li>Some additional metadata is now available for use - <code>file.starred</code>, <code>file.lists</code>, and more metadata in   <code>file.tasks</code>.</li> </ul> <p>There have been some moderate documentation touch-ups to keep things up to date; I'm still working on a walkthrough for common Dataview use cases. This review also includes about ~30-40 bugfixes; some new bugs may arise due to internal changes, so please flag them if you encounter them.</p>"},{"location":"changelog/#0520-beta","title":"0.5.20 (Beta)","text":"<p>Slight fix to hopefully improve some strange reported cases of bad indexing at startup.</p>"},{"location":"changelog/#0519-beta","title":"0.5.19 (Beta)","text":"<p>Dataview now uses IndexedDB to cache file metadata, reducing startup time to virtually nothing if you've opened the vault before; if you have a small vault (&lt;1000 notes), you may notice a slight improvement, but large vaults and mobile devices will notice a very significant performance improvement to \"first valid paint\". Some other performance parameters have been tuned to hopefully make the default experience better.</p> <p>A few small bugs related to rendering have also been squashed, including an issue with images being scaled wrongly.</p>"},{"location":"changelog/#0518-beta","title":"0.5.18 (Beta)","text":"<ul> <li>Tasks in task views now support alternative task status characters like '!' and '/'; thanks @ebullient.</li> <li>A few documentation nit fixes.</li> <li>Added <code>DataArray#sortInPlace</code> for a more efficient mutable sort for niche use cases.</li> </ul>"},{"location":"changelog/#0517-beta","title":"0.5.17 (Beta)","text":"<ul> <li>Improved behavior when clicking on tasks in the task view; will now properly scroll to the relevant line in long   files!</li> <li>Fixed a bug with incorrect counts being displayed in task views.</li> <li>Added <code>tags</code> as a field available on task items, so you can now do things like <code>TASK WHERE contains(tags, \"#tag\")</code>.</li> </ul>"},{"location":"changelog/#0516-beta","title":"0.5.16 (Beta)","text":"<p>Dataview now tracks initialization and will report when all files have been indexed in the console; you can programmatically see this via <code>dataview:index-ready</code>, or by checking <code>api.index.initialized</code>.</p>"},{"location":"changelog/#0515-beta","title":"0.5.15 (Beta)","text":"<ul> <li>Add hover highlights to tables to make seeing rows a little easier.</li> <li>Tables and task lists now include counts of the number of results in the headers.</li> <li>Further improved task selection in the task view.</li> </ul>"},{"location":"changelog/#0514-beta","title":"0.5.14 (Beta)","text":"<ul> <li>Fix task highlighting when not grouping.</li> <li>Remove some spurious console logging.</li> <li>Slightly improve task highlighting behavior when clicking on a task.</li> </ul>"},{"location":"changelog/#0513-beta","title":"0.5.13 (Beta)","text":"<p>Several smaller bugfixes!</p> <ul> <li>Fix #997: Use the group by field name in the table name.</li> <li>Prevent tons of errors if you incorrectly set the inline query prefix.</li> </ul>"},{"location":"changelog/#0512-beta","title":"0.5.12 (Beta)","text":"<p>Improve error messages for queries somewhat and get rid of some ugly output.</p>"},{"location":"changelog/#0511-beta","title":"0.5.11 (Beta)","text":"<p>Add detection of tasks inside of block quotes, as well as correctly implement automatic checking and unchecking of these tasks.</p>"},{"location":"changelog/#0510-beta","title":"0.5.10 (Beta)","text":"<p>Adds the <code>Dataview: Force Refresh Views</code> Command (accessible via the Ctrl+P command view) to force current views to refresh immediately.</p>"},{"location":"changelog/#059-beta","title":"0.5.9 (Beta)","text":"<p>Another fix for due-date related emoji in tasks. I hate emoji.</p>"},{"location":"changelog/#058-beta","title":"0.5.8 (Beta)","text":"<p>Fix some issues with infinite loops of tasks due to bad Obsidian metadata (potentially due to being out of date?).</p>"},{"location":"changelog/#057-beta","title":"0.5.7 (Beta)","text":"<p>Fix issues with parsing '\ud83d\uddd3\ufe0f2021-08-29' due-date annotations on tasks, as well as an issue with properly extracting due/completed/completed times for use in queries.</p>"},{"location":"changelog/#056-beta","title":"0.5.6 (Beta)","text":"<p>Proper release of 0.5.5 plus one additional small improvement:</p> <ul> <li>Add <code>duration * number</code> and <code>duration / number</code> operations for manipulation durations numerically.</li> </ul>"},{"location":"changelog/#055-beta","title":"0.5.5 (Beta)","text":"<p>More small features:</p> <ul> <li>Fix issues with task sorting not doing anything. Sort away!</li> <li>Table headers can now be arbitrary markdown. So you can put things like links in your headers: `TABLE (1 + 2) AS   \"[[File]]\".</li> <li>You can now specify the size of an image embed by providing WxH in it's display property: <code>![[image.png|50x50]]</code>.</li> </ul>"},{"location":"changelog/#054-beta","title":"0.5.4 (Beta)","text":"<p>Improved image rendering for some link types, and adds the <code>embed(link)</code> and <code>embed(link, false)</code> options to convert links to/from their embedded equivalents.</p>"},{"location":"changelog/#053-beta","title":"0.5.3 (Beta)","text":"<p>Iterative beta which adds a few nice QoL features and fixes some more bugs:</p> <ul> <li>Internally swapped to a React-based renderer; this should not have a noticeable perf or usability impact, but makes it   easier for me to implement complex table/list behaviors.</li> <li>Naming your fields with <code>AS \"Name\"</code> is now optional; Dataview will infer the name from the expression automatically.   For example, <code>TABLE 8 + 4, 3 + 6 FROM ...</code> is now a valid table expression, and the columns will be named <code>8 + 4</code> and   <code>3 + 6</code> respectively.</li> <li>Some issues with array and object rendering were corrected.</li> <li>Error messages on empty dataview results were improved and now show up for all views.</li> </ul> <p>Inline images are now rendered correctly in Dataview tables and lists - no more hacky <code>app://local/</code> shenanigans!</p>"},{"location":"changelog/#052-beta","title":"0.5.2 (Beta)","text":"<ul> <li>Fix #971: Objects now work properly inside DataviewQL evaluation.</li> </ul>"},{"location":"changelog/#051-beta","title":"0.5.1 (Beta)","text":"<ul> <li>Temporarily revert the new task metadata behavior: inline fields in sublists of tasks are added to the page, instead   of the task. This behavior is not good, but is compatible with legacy usages of task metadata, which should not break   some existing queries.<ul> <li>This behavior will be removed in the future behind a flag.</li> </ul> </li> <li>Added the 'visual' field to tasks - if set, tasks render 'visual' instead of their regular text.</li> <li>Fixed <code>DataArray#mutate()</code>.</li> </ul>"},{"location":"changelog/#050-beta","title":"0.5.0 (Beta)","text":"<p>Re-release of broken release 0.4.23, now hopefully with fixes that make it work on (most) machines. I'll be doing beta releases for a little while until I can confirm the new version is stable; use BRAT (https://github.com/TfTHacker/obsidian42-brat) to easily track Dataview beta versions if you are interested in cutting edge features.</p>"},{"location":"changelog/#0425","title":"0.4.25","text":"<p>Fix #867: Create a container div per taskList to allow for multiple task views.</p>"},{"location":"changelog/#0424","title":"0.4.24","text":"<p>Re-release of 0.4.23f since Obsidian does not automatically update between non-semver versions.</p>"},{"location":"changelog/#0423f","title":"0.4.23f","text":"<p>Remove some code which attempted to make tag queries case-insensitive; I'll reimplement this more generally later (it conflicts with existing queries which check tags via <code>contains(file.tags, \"#Tag\")</code> and similar).</p>"},{"location":"changelog/#0423e","title":"0.4.23e","text":"<p>More task bugfixes / improvements, and a fix that caused task metadata to be duplicated.</p>"},{"location":"changelog/#0423d","title":"0.4.23d","text":"<p>More inline field list parsing bug fixes. Hopefully we're back to a nice working order!</p>"},{"location":"changelog/#0423c","title":"0.4.23c","text":"<p>Bugfix which adds support for '1)' style lists, as well as a very annoying null issue due to JavaScript being a very sad, very sad language.</p>"},{"location":"changelog/#0423b","title":"0.4.23b","text":"<p>Bugfix for bad inlink/outlink computations; links were not being normalized properly so reverse lookups were not working.</p>"},{"location":"changelog/#0423","title":"0.4.23","text":"<p>The Task Update! This release reworks how dataview handles tasks and list items so that they should be much more intuitive to use and interact with:</p> <ol> <li>Subtask Support: Queries now search over all list items, instead of only over root elements. This should make    task filtering much more usable, especially if you tend to put tasks under other list items or care specifically    about subtasks.</li> <li>Multiline Support: Dataview now understands multi-line tasks and renders/updates them correctly.</li> <li>Immediately Navigate to Task: The new task view, aside from looking a little cleaner than previous views, now    immediately navigates to the task in it's original file on click and selects it.</li> <li>Grouping Support: For DataviewJS users, <code>dv.taskList</code> now supports grouping (as produced by <code>groupBy</code> and the new    <code>groupIn</code>) natively.</li> </ol> <p>For DataviewJS users, the task and list representation has changed: <code>file.tasks</code> (and the new <code>file.lists</code>) contain every single task (including subtasks) in the file, instead of only the root elements. You can return to previous behavior by filtering out tasks with a non-null parent - i.e., <code>file.tasks.where(task =&gt; !task.parent)</code>. <code>dv.taskList</code> will intelligently deal with properly nesting and de-duplicating tasks, so just filter to the tasks you want to render and the API will do the rest.</p> <p>This release also includes general backend improvements as we prepare for live-editing in Dataview views, as well as several community-contributed API improvements:</p> <ul> <li><code>DataArray#groupIn</code>: For grouping already grouped data, you can now use <code>array.groupIn(v =&gt; ...)</code>, which will group   the innermost (original) data in the array instead of the top level groups. This allows for more easily grouping   recursively, such as <code>dv.pages().groupBy(page =&gt; page.file.folder).groupIn(page =&gt; page.title)</code> producing a grouping   of folders, then page titles.</li> <li><code>substring(string, start[, end])</code>: The last major missing string function is now available! Take slices of strings.</li> <li>Improved <code>dv.el()</code> and other HTML functions - thanks @vitaly.</li> <li>null and undefined entries sort at the end instead of the beginning by default; sorry to those whose code sorts wrong   because of this, but it is a better default for most people's use cases.</li> <li>All links are now properly normalized to their full paths, fixing many link comparison edge cases in DataviewJS.</li> </ul> <p>Documentation additions for the new task functionality will be coming out in the next few days. The next release 0.4.24 is currently targeting expanded <code>FROM</code> query support, basic table view improvements, and general exporting functionality for Dataview. See you then!</p>"},{"location":"changelog/#0422","title":"0.4.22","text":"<p>The @pjeby update! This includes several performance improvements suggested by @pjeby to dramatically improve background Dataview performance as well as reduce some memory pressure. It also includes some minor bug-fixes and preliminary functionality:</p> <ul> <li>Target ES2018 for better Promise support</li> <li>Allow parsing shorthands in <code>dv.date()</code>.</li> <li>Add additional metadata to inline field rendering which can be styled.</li> <li>Cleanup events &amp; workers on plugin uninstall, improving the Dataview uninstall/disable/reload experience.</li> <li>Add preliminary <code>CALENDAR</code> queries - rendering similar to the obsidian-calendar plugin, see the documentation!</li> </ul> <p>Dataview should perform much better on startup and when you have lots of tabs open - thanks again to @pjeby.</p>"},{"location":"changelog/#0421","title":"0.4.21","text":"<p>Bugfix release which primarily fixes issues that Dataview had with the live preview mode in upcoming Obsidian versions; Dataview live preview should now be functional. Also includes a number of smaller bugfixes.</p> <ul> <li>Fix #646: Add <code>date(yesterday)</code> to create a date 24 hours ago.</li> <li>Fix #618: Luxon is now available on the dataview API (<code>dv.luxon</code>).</li> <li>Fix #510: Add <code>dv.duration()</code> for parsing durations.</li> <li>Fix #647: All HTML functions in the DataviewJS API now return their rendered objects.</li> <li>Fix #652: Fix parsing of invalid dates.</li> <li>Fix #629: Fix block link parsing.</li> <li>Fix #601: Timezones are now rendered properly and parsed properly in Dataview dates.</li> <li>PR #637: Add <code>meta(link)</code> which allows you to access various metadata about a link itself.</li> <li>Various minor null safety fixes.</li> <li>Dataview now reports it's exact version and build time in logs.</li> </ul>"},{"location":"changelog/#0420","title":"0.4.20","text":"<p>Some feature work (mostly by other contributors) while I while away at section metadata. May also fix a few bugs!</p> <ul> <li>Fix #448: You can now use the \"Task Completion Tracking\" option to automatically add completion metadata to tasks   which are checked/unchecked through Dataview. Thanks to @sheeley.</li> <li>Add a search bar to documentation. Thanks to @tzhou.</li> <li>Add new date expressions for the start of the week (<code>date(sow)</code>), and the end of the week (<code>date(eow)</code>). Thanks   @Jeamee and @v_mujunma.</li> </ul> <p>Small minor bugfix / security releases may follow in the near future; otherwise, the next major release will include section and object metadata.</p>"},{"location":"changelog/#0419","title":"0.4.19","text":"<p>Bugfix release which corrects emoji parsing &amp; localization issues.</p> <ul> <li>Add <code>DataArray#into</code>, which lets you index into objects without flattening.</li> <li>Renamed 'header' to 'section' in task metadata; 'header' will remain around for a few major releases to let people   naturally migrate.</li> <li>Fix #487: You no longer need spaces around '*' in expressions.</li> <li>Fix #559: Fix unicode issues in variable canonicalization which was causing problems with non-Latin inline field   keys.</li> </ul>"},{"location":"changelog/#duration-parsing","title":"Duration Parsing","text":"<p>You can now include multiple units in durations: <code>dur(8 minutes, 4 seconds)</code> or <code>dur(2yr8mo12d)</code>. You can separate durations by commas, or use the abbreviated syntax with/without spaces.</p>"},{"location":"changelog/#0418","title":"0.4.18","text":"<p>Bugfix release which fixes bad inline field highlighting if '[' and '(' are mixed on the same line in particular orders.</p>"},{"location":"changelog/#0417","title":"0.4.17","text":"<p>Minor feature release to patch up more implementation holes.</p>"},{"location":"changelog/#single-file-queries","title":"Single File Queries","text":"<p>You can now query from a specific file (instead of just folders and tags) by specifying the full file path:</p> <pre><code>TASK FROM \"dataview/Test\"\n...\n</code></pre> <p>This is primarily useful for task queries, but will soon be useful for section and object queries in the near future as well.</p>"},{"location":"changelog/#better-inline-field-highlighting","title":"Better Inline Field Highlighting","text":"<p>The CSS for inline field highlighting has been fixed and some compatibility issues improved, so it should work on all themes now instead of only a few.</p>"},{"location":"changelog/#dvel","title":"dv.el()","text":"<p>DataviewJS now has <code>dv.el()</code>, which is like existing functions like <code>dv.paragraph</code> and <code>dv.span</code> but can create any HTML element type; for example:</p> <pre><code>dv.el(\"b\", \"Text!\");\ndv.el(\"i\", 18);\n</code></pre>"},{"location":"changelog/#0416","title":"0.4.16","text":"<p>Small performance release which substantially reduces the impact Dataview has on vault loading times (by spreading out file loading). The Dataview Index is now also eagerly initialized, so plugin consumers of the API can immediately start using it instead of waiting for the <code>dataview:api-ready</code> event.</p>"},{"location":"changelog/#0415","title":"0.4.15","text":"<p>A simple fix for #537 which properly 'awaits' value rendering in <code>dv.view()</code>. Fixes issues with values rendering out of order.</p>"},{"location":"changelog/#0414","title":"0.4.14","text":"<p>Small bugfix release.</p> <ul> <li>Fixes inline field evaluation when using the new fancy highlighting.</li> <li>You can now configure whether task links should show up at the beginning or end of the task (or just disable them)   in the \"Task Link Location\" setting.</li> <li>Most setting updates will immediately be applied to existing Dataviews.</li> </ul>"},{"location":"changelog/#0413","title":"0.4.13","text":"<p>Bugfix release which adds fancy rendering to inline-inline fields and includes a few bugfixes.</p>"},{"location":"changelog/#pretty-inline-fields","title":"Pretty Inline Fields","text":"<p>Inline fields of the form <code>[key:: value]</code> will now be rendered with fancy new HTML! By default, they are rendered with both the key and value. You can only render the value using parenthesis instead: <code>(key:: value)</code>. You can disable this feature in the configuration.</p> <p>Full-line inline fields (that Dataview has supported for a long time) will gain similar rendering support soon; in the meanwhile, give the new syntax a try!</p>"},{"location":"changelog/#task-linking","title":"Task Linking","text":"<p>Tasks now render with a link to the page/section that they are defined in, making <code>GROUP BY</code> and custom task editing easier to do:</p> <ul> <li> A Task. \ud83d\udd17</li> <li> Another Task. \ud83d\udd17<ul> <li> Some Random Subtask. \ud83d\udd17</li> </ul> </li> </ul> <p>You can configure the symbol for the link or disable it altogether.</p>"},{"location":"changelog/#improving-dataviewjs-posture","title":"Improving DataviewJS Posture","text":"<p>I am currently actively looking into improving DataviewJS sandboxing and general security posture. As a first small step in this, I have made DataviewJS opt-in instead of opt-out, and added a separate control for Inline DataviewJS. You may need to re-enable it in your settings if you use it.</p> <p>More improvements and better JavaScript sandboxing will follow.</p>"},{"location":"changelog/#0412-hotfix1","title":"0.4.12-hotfix1","text":"<p>Re-release of 0.4.12 that fixes an important indexing issue.</p> <ul> <li>Fix #505: Use <code>completion</code> instead of <code>completed</code> when setting task completion time.</li> <li>Fix #509: Add <code>startswith</code> / <code>endswith</code> string functions.</li> <li>Fix #488: Add <code>padleft</code> and <code>padright</code>, and <code>string</code>.</li> <li>Fix #506, #512: Fix date comparisons due to a bizarre date zone issue.</li> </ul>"},{"location":"changelog/#0412","title":"0.4.12","text":"<p>Bugfix release following up 0.4.11 which includes a few minor function additions.</p> <ul> <li>Fix #512: Strange zone issue causing dates to not be equal.</li> <li>Fix #506: Same as #512.</li> <li>Fix #488: Add <code>padleft</code> / <code>padright</code> functions.</li> <li>Fix #509: Add <code>startswith</code> and <code>endswith</code> functions.</li> <li>Fix #505: Correctly read completion dates for tasks from <code>completion</code>.</li> </ul> <p>This release also includes improved testing thanks to mocking Obsidian plugin APIs!</p>"},{"location":"changelog/#0411","title":"0.4.11","text":"<p>Fixes task behavior and adds \"truly inline\" fields!</p>"},{"location":"changelog/#improved-task-behavior","title":"Improved Task Behavior","text":"<p>Task queries are now much improved from their primitive foundations - you can now filter, sort, and group them! The FROM block is still page-based, sadly, though you can simply use <code>WHERE</code> instead if desired. For example, you can now access task fields like <code>text</code>, <code>line</code>, or <code>completed</code>:</p> <pre><code>TASK WHERE contains(text, \"#tag\")\nWHERE !completed\nGROUP BY file.folder\n</code></pre> <p>The full list of all available task metadata can be found here; tasks include all the information needed to uniquely identify them, and automatically inherit all of the metadata from their parent file as well (so you can access <code>file.name</code>, for example). You can also annotate tasks with inline fields, as described in the section below.</p> <p>There is some additional UX work to be done - primarily on more easily allowing you to navigate to where the task is defined, as well as render tasks in views other than the <code>TASK</code> view.  The semantics of how grouping works (to make it more intuitive/useful than it currently is) will likely also be revisited.</p>"},{"location":"changelog/#inline-inline-fields","title":"Inline Inline Fields","text":"<p>Early support for truly inline fields have been added, where you can add metadata in the middle of a sentence. It looks similar to existing inline field syntax, but with brackets or parenthesis:</p> <pre><code>I would rate this a [rating:: 6]. It was (thoughts:: acceptable).\n</code></pre> <p>Improved rendering for all inline fields is coming in an upcoming update to improve the visual look of these inline fields.</p>"},{"location":"changelog/#issues","title":"Issues","text":"<ul> <li>Fix #496: Fix task <code>SORT</code> functionality to do something.</li> <li>Fix #492: Tasks now properly annotated with parent file information.</li> <li>Fix #498: Fix task checking/unchecking logic (which broke due to a change in the task regex...).</li> </ul>"},{"location":"changelog/#initial","title":"Initial","text":"<p>Start of the automatic changelog.</p>"},{"location":"friends/","title":"Friends of Dataview","text":"<p>A list of plugins which may be helpful for Dataview related workflows:</p> <ul> <li>MetaEdit - Add or update yaml properties and Dataview fields easily</li> </ul> <p>Another non-exhaustive list of plugins which use Dataview for some of the heavy-lifting required for their features:</p> <ul> <li>Kanban - Create markdown-backed Kanban boards in Obsidian</li> <li>Breadcrumbs - Gives you a way to visualize a custom-built hierarchy in your Obsidian vault</li> <li>Supercharged Links - Allows you to style links in your Obsidian vault based on note metadata</li> </ul> <p>A full list can be found using GitHub's Dependents feature.</p>"},{"location":"annotation/add-metadata/","title":"Adding Metadata to your Pages","text":"<p>Dataview cannot query all content of your vault. In order to be able to search, filter and display content, this content needs to be indexed. Some content is indexed automatically, like bullet points or task lists - so called Implicit fields, more on that below - and other data needs to be saved in a metadata field to be accessible through dataview. </p>"},{"location":"annotation/add-metadata/#what-is-a-field","title":"What is a \"field\"?","text":"<p>A metadata field is a pair of a key and a value. The value of a field has a data type (more on that here) that determines how this field will behave when querying it. </p> <p>You can add any number of fields to a note, a list item or a task. </p>"},{"location":"annotation/add-metadata/#how-do-i-add-fields","title":"How do I add fields?","text":"<p>You can add fields to a note in three different ways. How a field look like depends on the way you add it.</p> <p>On tasks or list items, you will have YAML Frontmatter information available, but won't be able to add them to a specific list item. If you want to add metadata to one list item or task only, use Inline Fields.</p>"},{"location":"annotation/add-metadata/#frontmatter","title":"Frontmatter","text":"<p>Frontmatter is a common Markdown extension which allows for YAML metadata to be added to the top of a page. It is natively supported by Obsidian and explained in its official documentation. All YAML Frontmatter fields will be automatically available as Dataview fields.</p> <pre><code>    ---\n    alias: \"document\"\n    last-reviewed: 2021-08-17\n    thoughts:\n      rating: 8\n      reviewable: false\n    ---\n</code></pre> <p>With this your note has metadata fields named <code>alias</code>, <code>last-reviewed</code>, and <code>thoughts</code>. Each of these have different data types:</p> <ul> <li><code>alias</code> is a text, because its wrapped in \"\"</li> <li><code>last-reviewed</code> is a date, because it follows the ISO date format</li> <li><code>thoughts</code> is a object field, because it uses the YAML Frontmatter object syntax</li> </ul> <p>You could query for this note with the following query:</p> <pre><code>```dataview\nLIST\nWHERE thoughts.rating = 8\n```\n</code></pre>"},{"location":"annotation/add-metadata/#inline-fields","title":"Inline Fields","text":"<p>For those wanting a more natural-looking annotation, Dataview supports \"inline\" fields via a <code>Key:: Value</code> syntax that you can use everywhere in your file. This allows you to write your queryable data right where you need it - for example in the middle of a sentence. </p> <p>If your inline field has an own line, without any content beforehand, you can write it like this: </p> <pre><code># Markdown Page\n\nBasic Field:: Some random Value\n**Bold Field**:: Nice!\n</code></pre> <p>All content after the <code>::</code> is the value of the field until the next line break.</p> <p>Mind the <code>::</code></p> <p>Note that you need to use a double colon <code>::</code> between key and value when using inline fields, contrary to YAML Frontmatter fields where one colon is enough. </p> <p>If you want to embed metadata inside sentences, or multiple fields on the same line, you can use the bracket syntax and wrap your field in square brackets:</p> <pre><code>I would rate this a [rating:: 9]! It was [mood:: acceptable].\n</code></pre> <p>Fields on list items and tasks</p> <p>When you want to annotate a list item, e.g. a task, with metadata, you always need to use the bracket syntax (because the field is not the only information in this line) <pre><code>- [ ] Send an mail to David about the deadline [due:: 2022-04-05].\n</code></pre> Bracketed inline fields are the only way to explicitly add fields to specific list items, YAML frontmatter always applies to the whole page (but is also available in context of list items.)</p> <p>There is also the alternative parenthesis syntax, which hides the key when rendered in Reader mode:</p> <pre><code>This will not show the (longKeyIDontNeedWhenReading:: key).\n</code></pre> <p>will render to:</p> <pre><code>This will not show the key.\n</code></pre> <p>You can use YAML Frontmatter and Inline fields with all syntax variants together in one file. You do not need to decide for one and can mix them to fit your workflow.</p>"},{"location":"annotation/add-metadata/#field-names","title":"Field names","text":"<p>Imagine you used all the examples for Inline fields you see above in one note, then following metadata would be available to you:</p> Metadata Key Sanitized Metadata key Value Data Type of Value <code>Basic Field</code> <code>basic-field</code> Some random Value Text <code>Bold Field</code> <code>bold-field</code> Nice! Text <code>rating</code> - 9 Number <code>mood</code> - acceptable Text <code>due</code> - Date Object for 2022-04-05 Date <code>longKeyIDontNeedWhenReading</code> <code>longkeyidontneedwhenreading</code> key Text <p>Like you can see in the table, if you are using spaces or capitalized letters in your metadata key name, dataview will provide you with a sanitized version of the key. </p> <p>Keys with spaces cannot be used in a query as-is. You have two possibilities here: Either use the sanitized name, that is always all lowercase and with dashes instead of spaces or use the row variable syntax. Find out more in the FAQ.</p> <p>Keys with capitalized letters can be used as-is, if you wish. The sanitized version allows you to query for a key independent of its capitalization and makes it easier to use: You can query the same field that's, for example, in one file named <code>someMetadata</code> and in another <code>someMetaData</code> when using the sanitized key <code>somemetadata</code>. </p> <p>In addition, the bold field key is missing its formatting tokens. Even though the <code>**</code> used to make it appear bold are part of the key name in the file, they are left out when indexing your note. The same goes for all other built-in formatting, like strike through or italic. This means formatted keys can only be queried without their formatting. This allows you to format the key in context of the note without worrying that you might create different keys for the same type of information. </p>"},{"location":"annotation/add-metadata/#usage-of-emojis-and-non-latin-characters","title":"Usage of emojis and non-latin characters","text":"<p>You are not limited to latin characters when naming your metadata fields. You can use all characters available in UTF-8:</p> <pre><code>No\u00ebl:: Un jeu de console\n\u30af\u30ea\u30b9\u30de\u30b9:: \u5bb6\u5ead\u7528\u30b2\u30fc\u30e0\u6a5f\n[\ud83c\udf85:: a console game]\n[xmas\ud83c\udf84:: a console game]\n</code></pre> <p>Using emojis as metadata keys is possible, but it comes with some limitations. When using emojis in field names, you need to put them into square brackets so that dataview recognize them correctly.  Also, please be aware when switching the OS (i.e. from Windows to Android), the same emoji could use another character code and you might not find your metadata when querying it.</p> <p>Task Field Shorthands</p> <p>An exception to this are the shorthand syntax in Tasks. You can use shorthands without bracketing. Please mind though that this only counts for listed shorthands - every other field (if with emojis or not) need to use the <code>[key:: value]</code> syntax.</p>"},{"location":"annotation/add-metadata/#implicit-fields","title":"Implicit fields","text":"<p>Even if you do not add any metadata explicitly to your note, dataview provides you with a big amount of indexed data out of the box. Some examples for implicit fields are:</p> <ul> <li>day the file was created (<code>file.cday</code>)</li> <li>links in the file (<code>file.outlinks</code>)</li> <li>tags in the file (<code>file.etags</code>)</li> <li>all list items in the file (<code>file.lists</code> and <code>file.tasks</code>)</li> </ul> <p>and many more. Available implicit fields differ depending if you look at a page or a list item. Find the full list of available implicit fields on Metadata on pages and Metadata on Tasks and Lists.</p>"},{"location":"annotation/metadata-pages/","title":"Metadata on Pages","text":"<p>You can add fields to a markdown page (a note) in three different ways - via Frontmatter, Inline fields and Implicit fields. Read more about the first two possibilities in \"how to add metadata\".</p>"},{"location":"annotation/metadata-pages/#implicit-fields","title":"Implicit Fields","text":"<p>Dataview automatically adds a large amount of metadata to each page. These implicit and automatically added fields are collected under the field <code>file</code>. Following are available:</p> Field Name Data Type Description <code>file.name</code> Text The file name as seen in Obsidians sidebar. <code>file.folder</code> Text The path of the folder this file belongs to. <code>file.path</code> Text The full file path, including the files name. <code>file.ext</code> Text The extension of the file type; generally <code>md</code>. <code>file.link</code> Link A link to the file. <code>file.size</code> Number The size (in bytes) of the file. <code>file.ctime</code> Date with Time The date that the file was created. <code>file.cday</code> Date The date that the file was created. <code>file.mtime</code> Date with Time The date that the file was last modified. <code>file.mday</code> Date The date that the file was last modified. <code>file.tags</code> List A list of all unique tags in the note. Subtags are broken down by each level, so <code>#Tag/1/A</code> will be stored in the list as <code>[#Tag, #Tag/1, #Tag/1/A]</code>. <code>file.etags</code> List A list of all explicit tags in the note; unlike <code>file.tags</code>, does not break subtags down, i.e. <code>[#Tag/1/A]</code> <code>file.inlinks</code> List A list of all incoming links to this file, meaning all files that contain a link to this file. <code>file.outlinks</code> List A list of all outgoing links from this file, meaning all links the file contains. <code>file.aliases</code> List A list of all aliases for the note as defined via the YAML frontmatter. <code>file.tasks</code> List A list of all tasks (I.e., <code>| [ ] some task</code>) in this file. <code>file.lists</code> List A list of all list elements in the file (including tasks); these elements are effectively tasks and can be rendered in task views. <code>file.frontmatter</code> List Contains the raw values of all frontmatter in form of <code>key | value</code> text values; mainly useful for checking raw frontmatter values or for dynamically listing frontmatter keys. <code>file.day</code> Date Only available if the file has a date inside its file name (of form <code>yyyy-mm-dd</code> or <code>yyyymmdd</code>), or has a <code>Date</code> field/inline field. <code>file.starred</code> Boolean If this file has been bookmarked via the Obsidian Core Plugin \"Bookmarks\"."},{"location":"annotation/metadata-pages/#example-page","title":"Example page","text":"<p>This is a small Markdown page which includes both user-defined ways to add metadata:</p> <pre><code>---\ngenre: \"action\"\nreviewed: false\n---\n# Movie X\n#movies\n\n**Thoughts**:: It was decent.\n**Rating**:: 6\n\n[mood:: okay] | [length:: 2 hours]\n</code></pre> <p>In addition to the values you see here, the page has also all keys listed above available.</p>"},{"location":"annotation/metadata-pages/#example-query","title":"Example Query","text":"<p>You can query part of the above information with following query, for example:</p> <pre><code>```dataview\nTABLE file.ctime, length, rating, reviewed\nFROM #movies\n```\n</code></pre>"},{"location":"annotation/metadata-tasks/","title":"Metadata on Tasks and Lists","text":"<p>Just like pages, you can also add fields on list item and task level to bind it to a specific task as context. For this you need to use the inline field syntax:</p> <pre><code>- [ ] Hello, this is some [metadata:: value]!\n- [X] I finished this on [completion:: 2021-08-15].\n</code></pre> <p>Tasks and list items are the same data wise, so all your bullet points have all the information described here available, too.</p>"},{"location":"annotation/metadata-tasks/#field-shorthands","title":"Field Shorthands","text":"<p>The Tasks plugin introduced a different notation by using Emoji to configure the different dates related to a task. In the context of Dataview, this notation is called <code>Field Shorthands</code>. The current version of Dataview only support the dates shorthands as shown below. The priorities and recurrence shorthands are not supported.</p> Example Example <ul> <li> Due this Saturday \ud83d\uddd3\ufe0f2021-08-29</li> <li> Completed last Saturday \u27052021-08-22</li> <li> I made this on \u27951990-06-14</li> <li> Task I can start this weekend \ud83d\udeeb2021-08-29</li> <li> Task I finished ahead of schedule \u23f32021-08-29 \u27052021-08-22</li> </ul> <p>There are two specifics to these emoji-shorthands. First, they omit the inline field syntax (no <code>[\ud83d\uddd3\ufe0f:: YYYY-MM-DD]</code> needed) and secondly, they map to a textual field name data-wise:</p> Field name Short hand syntax due <code>\ud83d\uddd3\ufe0fYYYY-MM-DD</code> completion <code>\u2705YYYY-MM-DD</code> created <code>\u2795YYYY-MM-DD</code> start <code>\ud83d\udeebYYYY-MM-DD</code> scheduled <code>\u23f3YYYY-MM-DD</code> <p>This means if you want to query for all tasks that are completed 2021-08-22, you'll write:</p> <pre><code>```dataview\nTASK\nWHERE completion = date(\"2021-08-22\")\n```\n</code></pre> <p>Which will list both variants - shorthands and textual annotation:</p> <pre><code>- [x] Completed last Saturday \u27052021-08-22\n- [x] Some Done Task [completion:: 2021-08-22]\n</code></pre>"},{"location":"annotation/metadata-tasks/#implicit-fields","title":"Implicit Fields","text":"<p>As with pages, Dataview adds a number of implicit fields to each task or list item:</p> <p>Inheritance of Fields</p> <p>Tasks inherit all fields from their parent page - so if you have a <code>rating</code> field in your page, you can also access it on your task in a <code>TASK</code> Query.</p> Field name Data Type Description <code>status</code> Text The completion status of this task, as determined by the character inside the <code>[ ]</code> brackets. Generally a space <code>\" \"</code> for incomplete tasks and an <code>\"x\"</code> for completed tasks, but allows for plugins which support alternative task statuses. <code>checked</code> Boolean Whether or not this task's status is not empty, meaning it has some <code>status</code> character (which may or may not be <code>\"x\"</code>) instead of a space in its <code>[ ]</code> brackets. <code>completed</code> Boolean Whether or not this specific task has been completed; this does not consider the completion or non-completion of any child tasks. A task is explicitly considered \"completed\" if it has been marked with an <code>\"x\"</code>. If you use a custom status, e.g. <code>[-]</code>, <code>checked</code> will be true, whereas <code>completed</code> will be false. <code>fullyCompleted</code> Boolean Whether or not this task and all of its subtasks are completed. <code>text</code> Text The plain text of this task, including any metadata field annotations. <code>visual</code> Text The text of this task, which is rendered by Dataview. This field can be overridden in DataviewJS to allow for different task text to be rendered than the regular task text, while still allowing the task to be checked (since Dataview validation logic normally checks the text against the text in-file). <code>line</code> Number The line of the file this task shows up on. <code>lineCount</code> Number The number of Markdown lines that this task takes up. <code>path</code> Text The full path of the file this task is in. Equals to <code>file.path</code> for pages. <code>section</code> Link Link to the section this task is contained in. <code>tags</code> List Any tags inside the task text. <code>outlinks</code> List Any links defined in this task. <code>link</code> Link Link to the closest linkable block near this task; useful for making links which go to the task. <code>children</code> List Any subtasks or sublists of this task. <code>task</code> Boolean If true, this is a task; otherwise, it is a regular list element. <code>annotated</code> Boolean True if the task text contains any metadata fields, false otherwise. <code>parent</code> Number The line number of the task above this task, if present; will be null if this is a root-level task. <code>blockId</code> Text The block ID of this task / list element, if one has been defined with the <code>^blockId</code> syntax; otherwise null. <p>With usage of the shorthand syntax, following additional properties may be available:</p> <ul> <li><code>completion</code>: The date a task was completed.</li> <li><code>due</code>: The date a task is due, if it has one.</li> <li><code>created</code>: The date a task was created.</li> <li><code>start</code>: The date a task can be started.</li> <li><code>scheduled</code>: The date a task is scheduled to work on.</li> </ul>"},{"location":"annotation/metadata-tasks/#accessing-implicit-fields-in-queries","title":"Accessing Implicit Fields in Queries","text":"<p>If you're using a TASK Query, your tasks are the top level information and can be used without any prefix:</p> <pre><code>```dataview\nTASK\nWHERE !fullyCompleted\n```\n</code></pre> <p>For every other Query type, you first need to access the implicit field <code>file.lists</code> or <code>file.tasks</code> to check for these list item specific implicit fields:</p> <pre><code>```dataview\nLIST\nWHERE any(file.tasks, (t) =&gt; !t.fullyCompleted)\n```\n</code></pre> <p>This will give you back all the file links that have unfinished tasks inside. We get back a list of tasks on page level and thus need to use a list function to look at each element.</p>"},{"location":"annotation/types-of-metadata/","title":"Field Types","text":"<p>All fields in dataview have a type, which determines how dataview will render, sort, and operate on that field. Read more about how to create fields on \"Adding metadata\" and which information you have automatically available on metadata on pages and metadata on tasks and lists.</p>"},{"location":"annotation/types-of-metadata/#why-does-the-type-matter","title":"Why does the type matter?","text":"<p>Dataview provides functions you can use to modify your metadata and allows you to write all sorts of complex queries. Specific functions need specific data types to work correctly. That means the data type of your field determines which functions you can use on these fields and how the functions behave. Furthermore, depending on the type, the output dataview renders can be different.</p> <p>Most of the time you do not need to worry too much about the type of your fields, but if you want to perform calculations and other magical operations on your data, you should be aware of them.</p> <p>Different rendering based on type</p> <p>If you have this file: <pre><code>date1:: 2021-02-26T15:15\ndate2:: 2021-04-17 18:00\n\n```dataview\nTABLE date1, date2\nWHERE file = this.file\n```\n</code></pre></p> <p>You'll see the following output (depending on your Date + Time Format Setting for dataview): </p> File (1) date1 date2 Untitled 2 3:15 PM - February 26, 2021 2021-04-17 18:00 <p><code>date1</code> is recognized as a Date while <code>date2</code> is a normal Text to dataview, that's why <code>date1</code> is parsed differently for you. Find out more on Dates below. </p>"},{"location":"annotation/types-of-metadata/#available-field-types","title":"Available Field Types","text":"<p>Dataview knows several field types to cover common use cases.</p>"},{"location":"annotation/types-of-metadata/#text","title":"Text","text":"<p>The default catch-all. If a field doesn't match a more specific type, it is plain text.</p> <pre><code>Example:: This is some normal text.\n</code></pre> <p>Multiline text</p> <p>Multiline text as a value is only possible via YAML Frontmatter and the pipe operator: <pre><code>---\npoem: |\n  Because I could not stop for Death,\n  He kindly stopped for me;\n  The carriage held but just ourselves\n  And Immortality.\nauthor: \"[[Emily Dickinson]]\"\ntitle: \"Because I could not stop for Death\"\n---\n</code></pre> For inline fields, a line break means the end of the value. </p>"},{"location":"annotation/types-of-metadata/#number","title":"Number","text":"<p>Numbers like '6' and '3.6'. <pre><code>Example:: 6\nExample:: 2.4\nExample:: -80\n</code></pre></p> <p>In YAML Frontmatter, you write a number without surrounding quotes: </p> <pre><code>---\nrating: 8\ndescription: \"A nice little horror movie\"\n---\n</code></pre>"},{"location":"annotation/types-of-metadata/#boolean","title":"Boolean","text":"<p>Boolean only knows two values: true or false, as the programming concept.</p> <pre><code>Example:: true\nExample:: false\n</code></pre>"},{"location":"annotation/types-of-metadata/#date","title":"Date","text":"<p>Text that matches the ISO8601 notation will be automatically transformed into a date object. ISO8601 follows the format <code>YYYY-MM[-DDTHH:mm:ss.nnn+ZZ]</code>. Everything after the month is optional.</p> <pre><code>Example:: 2021-04 \nExample:: 2021-04-18\nExample:: 2021-04-18T04:19:35.000\nExample:: 2021-04-18T04:19:35.000+06:30\n</code></pre> <p>When querying for these dates, you can access properties that give you a certain portion of your date back:</p> <ul> <li>field.year</li> <li>field.month</li> <li>field.weekyear</li> <li>field.week</li> <li>field.weekday</li> <li>field.day</li> <li>field.hour</li> <li>field.minute</li> <li>field.second</li> <li>field.millisecond</li> </ul> <p>For example, if you're interested in which month your date lies, you can access it via <code>datefield.month</code>:</p> <pre><code>birthday:: 2001-06-11\n\n```dataview\nLIST birthday\nWHERE birthday.month = date(now).month\n```\n</code></pre> <p>gives you back all birthdays happening this month. Curious about <code>date(now)</code>? Read more about it under literals.</p> <p>Displaying of date objects</p> <p>Dataview renders date objects in a human readable format, i.e. <code>3:15 PM - February 26, 2021</code>. You can adjust how this format looks like in Dataview's Setting under \"General\" with \"Date Format\" and \"Date + Time Format\". If you want to adjust the format in a specific query only, use the dateformat function.</p>"},{"location":"annotation/types-of-metadata/#duration","title":"Duration","text":"<p>Durations are text of the form <code>&lt;time&gt; &lt;unit&gt;</code>, like <code>6 hours</code> or <code>4 minutes</code>. Common English abbreviations like   <code>6hrs</code> or <code>2m</code> are accepted. You can specify multiple units in one field, i.e. <code>6hr 4min</code>, optionally with comma separator: <code>6 hours, 4 minutes</code></p> <pre><code>Example:: 7 hours\nExample:: 16days\nExample:: 4min\nExample:: 6hr7min\nExample:: 9 years, 8 months, 4 days, 16 hours, 2 minutes\nExample:: 9 yrs 8 min\n</code></pre> <p>Find the complete list of values that are recognized as a duration on literals. </p> <p>Calculations with dates and durations</p> <p>Date and Duration types are compatible with each other. This means you can, for example, add durations to a date to produce a new date: <pre><code>departure:: 2022-10-07T15:15\nlength of travel:: 1 day, 3 hours\n\n**Arrival**: `= this.departure + this.length-of-travel`\n</code></pre></p> <p>and you get back a duration when calculating with dates: <pre><code>release-date:: 2023-02-14T12:00\n\n`= this.release-date - date(now)` until release!!\n</code></pre></p> <p>Curious about <code>date(now)</code>? Read more about it under literals.</p>"},{"location":"annotation/types-of-metadata/#link","title":"Link","text":"<p>Obsidian links like <code>[[Page]]</code> or <code>[[Page|Page Display]]</code>.</p> <pre><code>Example:: [[A Page]]\nExample:: [[Some Other Page|Render Text]]\n</code></pre> <p>Links in YAML Frontmatter</p> <p>If you reference a link in frontmatter, you need to quote it, as so: <code>key: \"[[Link]]\"</code>. This is default Obsidian-supported behavior. Unquoted links lead to a invalid YAML frontmatter that cannot be parsed anymore.  <pre><code>---\nparent: \"[[parentPage]]\"\n---\n</code></pre> Please be aware that this is only a link for dataview, but not for Obsidian anymore - that means it won't show up in the outgoing links, won't be displayed on graph view and won't be updated on i.e. a rename.</p>"},{"location":"annotation/types-of-metadata/#list","title":"List","text":"<p>Lists are multi-value fields. In YAML, these are defined as normal YAML lists:  <pre><code>---\nkey3: [one, two, three]\nkey4:\n - four\n - five\n - six\n---\n</code></pre></p> <p>In inline fields, they are comma-separated lists values:</p> <pre><code>Example1:: 1, 2, 3\nExample2:: \"yes\", \"or\", \"no\"\n</code></pre> <p>Please be aware that in Inline fields, you need to wrap text values into quotes to be recognized as a list (see <code>Example2</code>). <code>yes, or, no</code> is recognized as plain text.</p> <p>Duplicated metadata keys in the same file lead to lists</p> <p>If you're using a metadata key twice or more in the same note, dataview will collect all values and give you a list. For example <pre><code>grocery:: flour\n[...]\ngrocery:: soap\n\n```dataview\nLIST grocery\nWHERE file = this.file\n```\n</code></pre> will give you a list out of <code>flour</code> and <code>soap</code> back.</p> <p>Arrays are lists</p> <p>In some places of this documentation, you'll read the term \"array\". Array is the term for lists in Javascript - Lists and Arrays are the same. A function that needs an array as argument needs a list as argument.</p>"},{"location":"annotation/types-of-metadata/#object","title":"Object","text":"<p>Objects are a map of multiple fields under one parent field. These can only be defined in YAML frontmatter, using the YAML object syntax: <pre><code>---\nobj:\n  key1: \"Val\"\n  key2: 3\n  key3: \n    - \"List1\"\n    - \"List2\"\n    - \"List3\"\n---\n</code></pre></p> <p>In queries, you can then access these child values via <code>obj.key1</code> etc:</p> <pre><code>```dataview\nTABLE obj.key1, obj.key2, obj.key3\nWHERE file = this.file\n```\n</code></pre>"},{"location":"api/code-examples/","title":"Codeblock Examples","text":""},{"location":"api/code-examples/#grouped-books","title":"Grouped Books","text":"<p>Group your books by genre, then create a table for each sorted by rating via a straightforward usage of the dataview rendering API:</p> <pre><code>for (let group of dv.pages(\"#book\").groupBy(p =&gt; p.genre)) {\n    dv.header(3, group.key);\n    dv.table([\"Name\", \"Time Read\", \"Rating\"],\n        group.rows\n            .sort(k =&gt; k.rating, 'desc')\n            .map(k =&gt; [k.file.link, k[\"time-read\"], k.rating]))\n}\n</code></pre> <p></p>"},{"location":"api/code-examples/#find-all-direct-and-indirectly-linked-pages","title":"Find All Direct And Indirectly Linked Pages","text":"<p>Use a simple set + stack depth first search to find all notes linked to the current note, or a note of your choosing:</p> <pre><code>let page = dv.current().file.path;\nlet pages = new Set();\n\nlet stack = [page];\nwhile (stack.length &gt; 0) {\n    let elem = stack.pop();\n    let meta = dv.page(elem);\n    if (!meta) continue;\n\n    for (let inlink of meta.file.inlinks.concat(meta.file.outlinks).array()) {\n        console.log(inlink);\n        if (pages.has(inlink.path)) continue;\n        pages.add(inlink.path);\n        stack.push(inlink.path);\n    }\n}\n\n// Data is now the file metadata for every page that directly OR indirectly links to the current page.\nlet data = dv.array(Array.from(pages)).map(p =&gt; dv.page(p));\n</code></pre>"},{"location":"api/code-reference/","title":"Codeblock Reference","text":"<p>Dataview JavaScript Codeblocks are created using the <code>dataviewjs</code> language specification for a codeblock:</p> <pre><code>```dataviewjs\ndv.table([], ...)\n```\n</code></pre> <p>The API is available through the implicitly provided <code>dv</code> (or <code>dataview</code>) variable, through which you can query for information, render HTML, and configure the view.</p> <p>Asynchronous API calls are marked with <code>\u231b</code>.</p>"},{"location":"api/code-reference/#query","title":"Query","text":"<p>Query methods allow you to query the Dataview index for page metadata; to render this data, use the methods in the render section.</p>"},{"location":"api/code-reference/#dvcurrent","title":"<code>dv.current()</code>","text":"<p>Get page information (via <code>dv.page()</code>) for the page the script is currently executing on.</p>"},{"location":"api/code-reference/#dvpagessource","title":"<code>dv.pages(source)</code>","text":"<p>Take a single string argument, <code>source</code>, which is the same form as a query language source. Return a data array of page objects, which are plain objects with all of the page fields as values.</p> <pre><code>dv.pages() =&gt; all pages in your vault\ndv.pages(\"#books\") =&gt; all pages with tag 'books'\ndv.pages('\"folder\"') =&gt; all pages from folder \"folder\"\ndv.pages(\"#yes or -#no\") =&gt; all pages with tag #yes, or which DON'T have tag #no\ndv.pages('\"folder\" or #tag') =&gt; all pages with tag #tag, or from folder \"folder\"\n</code></pre> <p>Note that folders need to be double-quoted inside the string (i.e., <code>dv.pages(\"folder\")</code> does not work, but <code>dv.pages('\"folder\"')</code> does) - this is to exactly match how sources are written in the query language.</p>"},{"location":"api/code-reference/#dvpagepathssource","title":"<code>dv.pagePaths(source)</code>","text":"<p>As with <code>dv.pages</code>, but just returns a data array of paths of pages that match the given source.</p> <pre><code>dv.pagePaths(\"#books\") =&gt; the paths of pages with tag 'books'\n</code></pre>"},{"location":"api/code-reference/#dvpagepath","title":"<code>dv.page(path)</code>","text":"<p>Map a simple path or link to the full page object, which includes all of the pages fields. Automatically does link resolution, and will figure out the extension automatically if not present.</p> <pre><code>dv.page(\"Index\") =&gt; The page object for /Index\ndv.page(\"books/The Raisin.md\") =&gt; The page object for /books/The Raisin.md\n</code></pre>"},{"location":"api/code-reference/#render","title":"Render","text":""},{"location":"api/code-reference/#dvelelement-text","title":"<code>dv.el(element, text)</code>","text":"<p>Render arbitrary text in the given html element. <pre><code>dv.el(\"b\", \"This is some bold text\");\n</code></pre></p> <p>You can specify custom classes to add to the element via <code>cls</code>, and additional attributes via <code>attr</code>:</p> <pre><code>dv.el(\"b\", \"This is some text\", { cls: \"dataview dataview-class\", attr: { alt: \"Nice!\" } });\n</code></pre>"},{"location":"api/code-reference/#dvheaderlevel-text","title":"<code>dv.header(level, text)</code>","text":"<p>Render a header of level 1 - 6 with the given text.</p> <pre><code>dv.header(1, \"Big!\");\ndv.header(6, \"Tiny\");\n</code></pre>"},{"location":"api/code-reference/#dvparagraphtext","title":"<code>dv.paragraph(text)</code>","text":"<p>Render arbitrary text in a paragraph.</p> <pre><code>dv.paragraph(\"This is some text\");\n</code></pre>"},{"location":"api/code-reference/#dvspantext","title":"<code>dv.span(text)</code>","text":"<p>Render arbitrary text in a span (no padding above/below, unlike a paragraph).</p> <pre><code>dv.span(\"This is some text\");\n</code></pre>"},{"location":"api/code-reference/#dvexecutesource","title":"<code>dv.execute(source)</code>","text":"<p>Execute an arbitrary dataview query and embed the view into the current page.</p> <pre><code>dv.execute(\"LIST FROM #tag\");\ndv.execute(\"TABLE field1, field2 FROM #thing\");\n</code></pre>"},{"location":"api/code-reference/#dvexecutejssource","title":"<code>dv.executeJs(source)</code>","text":"<p>Execute an arbitrary DataviewJS query and embed the view into the current page.</p> <pre><code>dv.executeJs(\"dv.list([1, 2, 3])\");\n</code></pre>"},{"location":"api/code-reference/#dvviewpath-input","title":"<code>dv.view(path, input)</code>","text":"<p>Complex function which allows for custom views. Will attempt to load a JavaScript file at the given path, passing it <code>dv</code> and <code>input</code> and allowing it to execute. This allows for you to re-use custom view code across multiple pages. Note that this is an asynchronous function since it involves file I/O - make sure to <code>await</code> the result!</p> <pre><code>await dv.view(\"views/custom\", { arg1: ..., arg2: ... });\n</code></pre> <p>If you want to also include custom CSS in your view, you can instead pass a path to a folder containing <code>view.js</code> and <code>view.css</code>; the CSS will be added to the view automatically:</p> <pre><code>views/custom\n -&gt; view.js\n -&gt; view.css\n</code></pre> <p>View scripts have access to the <code>dv</code> object (the API object), and an <code>input</code> object which is exactly whatever the second argument of <code>dv.view()</code> was.</p> <p>Bear in mind, <code>dv.view()</code> cannot read from directories starting with a dot, like <code>.views</code>. Example of an incorrect usage:</p> <p><pre><code>await dv.view(\".views/view1\", { arg1: 'a', arg2: 'b' });\n</code></pre> Attempting this will yield the following exception:</p> <pre><code>Dataview: custom view not found for '.views/view1/view.js' or '.views/view1.js'.\n</code></pre> <p>Also note, directory paths always originate from the vault root.</p>"},{"location":"api/code-reference/#example","title":"Example","text":"<p>In this example, we have a custom script file named <code>view1.js</code> in the <code>scripts</code> directory. </p> <p>File: <code>scripts/view1.js</code> <pre><code>console.log(`Loading view1`);\n\nfunction foo(...args) {\n  console.log('foo is called with args', ...args);\n}\nfoo(input)\n</code></pre></p> <p>And we have an Obsidian document located under <code>projects</code>. We'll call <code>dv.view()</code> from this document using the <code>scripts/view1.js</code> path.</p> <p>Document: <code>projects/customViews.md</code> <pre><code>await dv.view(\"scripts/view1\", { arg1: 'a', arg2: 'b' }) \n</code></pre></p> <p>When the above script is executed, it will print the following:</p> <pre><code>Loading view1\nfoo is called with args {arg1: 'a', arg2: 'b'}\n</code></pre>"},{"location":"api/code-reference/#dataviews","title":"Dataviews","text":""},{"location":"api/code-reference/#dvlistelements","title":"<code>dv.list(elements)</code>","text":"<p>Render a dataview list of elements; accept both vanilla arrays and data arrays.</p> <pre><code>dv.list([1, 2, 3]) =&gt; list of 1, 2, 3\ndv.list(dv.pages().file.name) =&gt; list of all file names\ndv.list(dv.pages().file.link) =&gt; list of all file links\ndv.list(dv.pages(\"#book\").where(p =&gt; p.rating &gt; 7)) =&gt; list of all books with rating greater than 7\n</code></pre>"},{"location":"api/code-reference/#dvtasklisttasks-groupbyfile","title":"<code>dv.taskList(tasks, groupByFile)</code>","text":"<p>Render a dataview list of <code>Task</code> objects, as obtained by <code>page.file.tasks</code>. By default, this view will automatically group the tasks by their origin file. If you provide <code>false</code> as a second argument explicitly, it will instead render them as a single unified list.</p> <pre><code>// List all tasks from pages marked '#project'\ndv.taskList(dv.pages(\"#project\").file.tasks)\n\n// List all *uncompleted* tasks from pages marked #project\ndv.taskList(dv.pages(\"#project\").file.tasks\n    .where(t =&gt; !t.completed))\n\n// List all tasks tagged with '#tag' from pages marked #project\ndv.taskList(dv.pages(\"#project\").file.tasks\n    .where(t =&gt; t.text.includes(\"#tag\")))\n\n// List all tasks from pages marked '#project', without grouping.\ndv.taskList(dv.pages(\"#project\").file.tasks, false)\n</code></pre>"},{"location":"api/code-reference/#dvtableheaders-elements","title":"<code>dv.table(headers, elements)</code>","text":"<p>Renders a dataview table. <code>headers</code> is an array of column headers. <code>elements</code> is an array of rows. Each row is itself an array of columns. Inside a row, every column which is an array will be rendered with bullet points.</p> <pre><code>dv.table(\n    [\"Col1\", \"Col2\", \"Col3\"],\n        [\n            [\"Row1\", \"Dummy\", \"Dummy\"],\n            [\"Row2\", \n                [\"Bullet1\",\n                 \"Bullet2\",\n                 \"Bullet3\"],\n             \"Dummy\"],\n            [\"Row3\", \"Dummy\", \"Dummy\"]\n        ]\n    );\n</code></pre> <p>An example of how to render a simple table of book info sorted by rating.</p> <pre><code>dv.table([\"File\", \"Genre\", \"Time Read\", \"Rating\"], dv.pages(\"#book\")\n    .sort(b =&gt; b.rating)\n    .map(b =&gt; [b.file.link, b.genre, b[\"time-read\"], b.rating]))\n</code></pre>"},{"location":"api/code-reference/#markdown-dataviews","title":"Markdown Dataviews","text":"<p>Functions which render to plain Markdown strings which you can then render or manipulate as desired.</p>"},{"location":"api/code-reference/#dvmarkdowntableheaders-values","title":"<code>dv.markdownTable(headers, values)</code>","text":"<p>Equivalent to <code>dv.table()</code>, which renders a table with the given list of headers and 2D array of elements, but returns plain Markdown.</p> <pre><code>// Render a simple table of book info sorted by rating.\nconst table = dv.markdownTable([\"File\", \"Genre\", \"Time Read\", \"Rating\"], dv.pages(\"#book\")\n    .sort(b =&gt; b.rating)\n    .map(b =&gt; [b.file.link, b.genre, b[\"time-read\"], b.rating]))\n\ndv.paragraph(table);\n</code></pre>"},{"location":"api/code-reference/#dvmarkdownlistvalues","title":"<code>dv.markdownList(values)</code>","text":"<p>Equivalent to <code>dv.list()</code>, which renders a list of the given elements, but returns plain Markdown.</p> <pre><code>const markdown = dv.markdownList([1, 2, 3]);\ndv.paragraph(markdown);\n</code></pre>"},{"location":"api/code-reference/#dvmarkdowntasklisttasks","title":"<code>dv.markdownTaskList(tasks)</code>","text":"<p>Equivalent to <code>dv.taskList()</code>, which renders a task list, but returns plain Markdown.</p> <pre><code>const markdown = dv.markdownTaskList(dv.pages(\"#project\").file.tasks);\ndv.paragraph(markdown);\n</code></pre>"},{"location":"api/code-reference/#utility","title":"Utility","text":""},{"location":"api/code-reference/#dvarrayvalue","title":"<code>dv.array(value)</code>","text":"<p>Convert a given value or array into a Dataview data array. If the value is already a data array, returns it unchanged.</p> <pre><code>dv.array([1, 2, 3]) =&gt; dataview data array [1, 2, 3]\n</code></pre>"},{"location":"api/code-reference/#dvisarrayvalue","title":"<code>dv.isArray(value)</code>","text":"<p>Returns true if the given value is an array or dataview array.</p> <pre><code>dv.isArray(dv.array([1, 2, 3])) =&gt; true\ndv.isArray([1, 2, 3]) =&gt; true\ndv.isArray({ x: 1 }) =&gt; false\n</code></pre>"},{"location":"api/code-reference/#dvfilelinkpath-embed-display-name","title":"<code>dv.fileLink(path, [embed?], [display-name])</code>","text":"<p>Converts a textual path into a Dataview <code>Link</code> object; you can optionally also specify if the link is embedded as well as it's display name.</p> <pre><code>dv.fileLink(\"2021-08-08\") =&gt; link to file named \"2021-08-08\"\ndv.fileLink(\"book/The Raisin\", true) =&gt; embed link to \"The Raisin\"\ndv.fileLink(\"Test\", false, \"Test File\") =&gt; link to file \"Test\" with display name \"Test File\"\n</code></pre>"},{"location":"api/code-reference/#dvsectionlinkpath-section-embed-display","title":"<code>dv.sectionLink(path, section, [embed?], [display?])</code>","text":"<p>Converts a textual path + section name into a Dataview <code>Link</code> object; you can optionally also specify if the link is embedded and it's display name.</p> <pre><code>dv.sectionLink(\"Index\", \"Books\") =&gt; [[Index#Books]]\ndv.sectionLink(\"Index\", \"Books\", false, \"My Books\") =&gt; [[Index#Books|My Books]]\n</code></pre>"},{"location":"api/code-reference/#dvblocklinkpath-blockid-embed-display","title":"<code>dv.blockLink(path, blockId, [embed?], [display?])</code>","text":"<p>Converts a textual path + block ID into a Dataview <code>Link</code> object; you can optionally also specify if the link is embedded and it's display name.</p> <pre><code>dv.blockLink(\"Notes\", \"12gdhjg3\") =&gt; [[Index#^12gdhjg3]]\n</code></pre>"},{"location":"api/code-reference/#dvdatetext","title":"<code>dv.date(text)</code>","text":"<p>Coerce text and links to luxon <code>DateTime</code>; if provided with a <code>DateTime</code>, return it unchanged.</p> <pre><code>dv.date(\"2021-08-08\") =&gt; DateTime for August 8th, 2021\ndv.date(dv.fileLink(\"2021-08-07\")) =&gt; dateTime for August 8th, 2021\n</code></pre>"},{"location":"api/code-reference/#dvdurationtext","title":"<code>dv.duration(text)</code>","text":"<p>Coerce text to a luxon <code>Duration</code>; uses the same parsing rules as Dataview duration types.</p> <pre><code>dv.duration(\"8 minutes\") =&gt; Duration { 8 minutes }\ndv.duration(\"9 hours, 2 minutes, 3 seconds\") =&gt; Duration { 9 hours, 2 minutes, 3 seconds }\n</code></pre>"},{"location":"api/code-reference/#dvcomparea-b","title":"<code>dv.compare(a, b)</code>","text":"<p>Compare two arbitrary JavaScript values according to dataview's default comparison rules; useful if you are writing a custom comparator and want to fall back to the default behavior. Returns a negative value if <code>a &lt; b</code>, 0 if <code>a = b</code>, and a positive value if <code>a &gt; b</code>.</p> <pre><code>dv.compare(1, 2) = -1\ndv.compare(\"yes\", \"no\") = 1\ndv.compare({ what: 0 }, { what: 0 }) = 0\n</code></pre>"},{"location":"api/code-reference/#dvequala-b","title":"<code>dv.equal(a, b)</code>","text":"<p>Compare two arbitrary JavaScript values and return true if they are equal according to Dataview's default comparison rules.</p> <pre><code>dv.equal(1, 2) = false\ndv.equal(1, 1) = true\n</code></pre>"},{"location":"api/code-reference/#dvclonevalue","title":"<code>dv.clone(value)</code>","text":"<p>Deep clone any Dataview value, including dates, arrays, and links.</p> <pre><code>dv.clone(1) = 1\ndv.clone({ a: 1 }) = { a: 1 }\n</code></pre>"},{"location":"api/code-reference/#dvparsevalue","title":"<code>dv.parse(value)</code>","text":"<p>Parse an arbitrary string object into a complex Dataview type (mainly supporting links, dates, and durations).</p> <pre><code>dv.parse(\"[[A]]\") = Link { path: A }\ndv.parse(\"2020-08-14\") = DateTime { 2020-08-14 }\ndv.parse(\"9 seconds\") = Duration { 9 seconds }\n</code></pre>"},{"location":"api/code-reference/#file-io","title":"File I/O","text":"<p>These utility methods are all contained in the <code>dv.io</code> sub-API, and are all asynchronous (marked by \u231b).</p>"},{"location":"api/code-reference/#dviocsvpath-origin-file","title":"\u231b <code>dv.io.csv(path, [origin-file])</code>","text":"<p>Load a CSV from the given path (a link or string). Relative paths will be resolved relative to the optional origin file (defaulting to the current file if not provided). Return a dataview array, each element containing an object of the CSV values; if the file does not exist, return <code>undefined</code>.</p> <pre><code>await dv.io.csv(\"hello.csv\") =&gt; [{ column1: ..., column2: ...}, ...]\n</code></pre>"},{"location":"api/code-reference/#dvioloadpath-origin-file","title":"\u231b <code>dv.io.load(path, [origin-file])</code>","text":"<p>Load the contents of the given path (a link or string) asynchronously. Relative paths will be resolved relative to the optional origin file (defaulting to the current file if not provided). Returns the string contents of the file, or <code>undefined</code> if the file does not exist.</p> <pre><code>await dv.io.load(\"File\") =&gt; \"# File\\nThis is an example file...\"\n</code></pre>"},{"location":"api/code-reference/#dvionormalizepath-origin-file","title":"<code>dv.io.normalize(path, [origin-file])</code>","text":"<p>Convert a relative link or path into an absolute path. If <code>origin-file</code> is provided, then the resolution is doing as if you were resolving the link from that file; if not, the path is resolved relative to the current file.</p> <pre><code>dv.io.normalize(\"Test\") =&gt; \"dataview/test/Test.md\", if inside \"dataview/test\"\ndv.io.normalize(\"Test\", \"dataview/test2/Index.md\") =&gt; \"dataview/test2/Test.md\", irrespective of the current file\n</code></pre>"},{"location":"api/code-reference/#query-evaluation","title":"Query Evaluation","text":""},{"location":"api/code-reference/#dvquerysource-file-settings","title":"\u231b <code>dv.query(source, [file, settings])</code>","text":"<p>Execute a Dataview query and return the results as a structured return. The return type of this function varies by the query type being executed, though will always be an object with a <code>type</code> denoting the return type. This version of <code>query</code> returns a result type - you may want <code>tryQuery</code>, which instead throws an error on failed query execution.</p> <pre><code>await dv.query(\"LIST FROM #tag\") =&gt;\n    { successful: true, value: { type: \"list\", values: [value1, value2, ...] } }\n\nawait dv.query(`TABLE WITHOUT ID file.name, value FROM \"path\"`) =&gt;\n    { successful: true, value: { type: \"table\", headers: [\"file.name\", \"value\"], values: [[\"A\", 1], [\"B\", 2]] } }\n\nawait dv.query(\"TASK WHERE due\") =&gt;\n    { successful: true, value: { type: \"task\", values: [task1, task2, ...] } }\n</code></pre> <p><code>dv.query</code> accepts two additional, optional arguments: 1. <code>file</code>: The file path to resolve the query from (in case of references to <code>this</code>). Defaults to the current file. 2. <code>settings</code>: Execution settings for running the query. This is largely an advanced use case (where I recommend you    directly check the API implementation to see all available options).</p>"},{"location":"api/code-reference/#dvtryquerysource-file-settings","title":"\u231b <code>dv.tryQuery(source, [file, settings])</code>","text":"<p>Exactly the same as <code>dv.query</code>, but more convenient in short scripts as execution failures will be raised as JavaScript exceptions instead of a result type.</p>"},{"location":"api/code-reference/#dvquerymarkdownsource-file-settings","title":"\u231b <code>dv.queryMarkdown(source, [file], [settings])</code>","text":"<p>Equivalent to <code>dv.query()</code>, but returns rendered Markdown.</p> <pre><code>await dv.queryMarkdown(\"LIST FROM #tag\") =&gt;\n    { successful: true, value: { \"- [[Page 1]]\\n- [[Page 2]]\" } }\n</code></pre>"},{"location":"api/code-reference/#dvtryquerymarkdownsource-file-settings","title":"\u231b <code>dv.tryQueryMarkdown(source, [file], [settings])</code>","text":"<p>Exactly the same as <code>dv.queryMarkdown()</code>, but throws an error on parse failure.</p>"},{"location":"api/code-reference/#dvtryevaluateexpression-context","title":"<code>dv.tryEvaluate(expression, [context])</code>","text":"<p>Evaluate an arbitrary dataview expression (like <code>2 + 2</code> or <code>link(\"text\")</code> or <code>x * 9</code>); throws an <code>Error</code> on parse or evaluation failure. <code>this</code> is an always-available implicit variable which refers to the current file.</p> <pre><code>dv.tryEvaluate(\"2 + 2\") =&gt; 4\ndv.tryEvaluate(\"x + 2\", {x: 3}) =&gt; 5\ndv.tryEvaluate(\"length(this.file.tasks)\") =&gt; number of tasks in the current file\n</code></pre>"},{"location":"api/code-reference/#dvevaluateexpression-context","title":"<code>dv.evaluate(expression, [context])</code>","text":"<p>Evaluate an arbitrary dataview expression (like <code>2 + 2</code> or <code>link(\"text\")</code> or <code>x * 9</code>), returning a <code>Result</code> object of the result. You can unwrap the result type by checking <code>result.successful</code> (and then fetching either <code>result.value</code> or <code>result.error</code>). If you want a simpler API that throws an error on a failed evaluation, use <code>dv.tryEvaluate</code>.</p> <pre><code>dv.evaluate(\"2 + 2\") =&gt; Successful { value: 4 }\ndv.evaluate(\"2 +\") =&gt; Failure { error: \"Failed to parse ... \" }\n</code></pre>"},{"location":"api/data-array/","title":"Data Arrays","text":"<p>The general representation of result lists in Dataview is the <code>DataArray</code>, which is a proxied version of the JavaScript array with expanded functionality. Data arrays support indexing and iteration (via <code>for</code> and <code>for ... of</code> loops), like normal arrays do, but also include many data manipulation operators like <code>sort</code>, <code>groupBy</code>, <code>distinct</code>, <code>where</code>, and so on to make manipulating tabular data easier.</p>"},{"location":"api/data-array/#creation","title":"Creation","text":"<p>Data arrays are returned by most Dataview APIs that can return multiple results, such as <code>dv.pages()</code>. You can also explicitly convert a normal JavaScript array into a Dataview array using <code>dv.array(&lt;array&gt;)</code>. If you want to convert a Data array back to a normal array, use <code>DataArray#array()</code>.</p>"},{"location":"api/data-array/#indexing-and-swizzling","title":"Indexing and Swizzling","text":"<p>Data arrays support regular indexing just like normal arrays (like <code>array[0]</code>), but importantly, they also support query-language-style \"swizzling\": if you index into a data array with a field name (like <code>array.field</code>), it automatically maps every element in the array to <code>field</code>, flattening <code>field</code> if it itself is also an array.</p> <p>For example, <code>dv.pages().file.name</code> will return a data array of all file names in your vault; <code>dv.pages(\"#books\").genres</code> will return a flattened list of all genres in your books.</p>"},{"location":"api/data-array/#raw-interface","title":"Raw Interface","text":"<p>The full interface for the data array implementation is provided below for reference:</p> <pre><code>/** A function which maps an array element to some value. */\nexport type ArrayFunc&lt;T, O&gt; = (elem: T, index: number, arr: T[]) =&gt; O;\n\n/** A function which compares two types. */\nexport type ArrayComparator&lt;T&gt; = (a: T, b: T) =&gt; number;\n\n/**\n * Proxied interface which allows manipulating array-based data. All functions on a data array produce a NEW array\n * (i.e., the arrays are immutable).\n */\nexport interface DataArray&lt;T&gt; {\n    /** The total number of elements in the array. */\n    length: number;\n\n    /** Filter the data array down to just elements which match the given predicate. */\n    where(predicate: ArrayFunc&lt;T, boolean&gt;): DataArray&lt;T&gt;;\n    /** Alias for 'where' for people who want array semantics. */\n    filter(predicate: ArrayFunc&lt;T, boolean&gt;): DataArray&lt;T&gt;;\n\n    /** Map elements in the data array by applying a function to each. */\n    map&lt;U&gt;(f: ArrayFunc&lt;T, U&gt;): DataArray&lt;U&gt;;\n    /** Map elements in the data array by applying a function to each, then flatten the results to produce a new array. */\n    flatMap&lt;U&gt;(f: ArrayFunc&lt;T, U[]&gt;): DataArray&lt;U&gt;;\n    /** Mutably change each value in the array, returning the same array which you can further chain off of. */\n    mutate(f: ArrayFunc&lt;T, any&gt;): DataArray&lt;any&gt;;\n\n    /** Limit the total number of entries in the array to the given value. */\n    limit(count: number): DataArray&lt;T&gt;;\n    /**\n     * Take a slice of the array. If `start` is undefined, it is assumed to be 0; if `end` is undefined, it is assumed\n     * to be the end of the array.\n     */\n    slice(start?: number, end?: number): DataArray&lt;T&gt;;\n    /** Concatenate the values in this data array with those of another iterable / data array / array. */\n    concat(other: Iterable&lt;T&gt;): DataArray&lt;T&gt;;\n\n    /** Return the first index of the given (optionally starting the search) */\n    indexOf(element: T, fromIndex?: number): number;\n    /** Return the first element that satisfies the given predicate. */\n    find(pred: ArrayFunc&lt;T, boolean&gt;): T | undefined;\n    /** Find the index of the first element that satisfies the given predicate. Returns -1 if nothing was found. */\n    findIndex(pred: ArrayFunc&lt;T, boolean&gt;, fromIndex?: number): number;\n    /** Returns true if the array contains the given element, and false otherwise. */\n    includes(element: T): boolean;\n\n    /**\n     * Return a string obtained by converting each element in the array to a string, and joining it with the\n     * given separator (which defaults to ', ').\n     */\n    join(sep?: string): string;\n\n    /**\n     * Return a sorted array sorted by the given key; an optional comparator can be provided, which will\n     * be used to compare the keys in lieu of the default dataview comparator.\n     */\n    sort&lt;U&gt;(key: ArrayFunc&lt;T, U&gt;, direction?: \"asc\" | \"desc\", comparator?: ArrayComparator&lt;U&gt;): DataArray&lt;T&gt;;\n\n    /**\n     * Return an array where elements are grouped by the given key; the resulting array will have objects of the form\n     * { key: &lt;key value&gt;, rows: DataArray }.\n     */\n    groupBy&lt;U&gt;(key: ArrayFunc&lt;T, U&gt;, comparator?: ArrayComparator&lt;U&gt;): DataArray&lt;{ key: U; rows: DataArray&lt;T&gt; }&gt;;\n\n    /**\n     * Return distinct entries. If a key is provided, then rows with distinct keys are returned.\n     */\n    distinct&lt;U&gt;(key?: ArrayFunc&lt;T, U&gt;, comparator?: ArrayComparator&lt;U&gt;): DataArray&lt;T&gt;;\n\n    /** Return true if the predicate is true for all values. */\n    every(f: ArrayFunc&lt;T, boolean&gt;): boolean;\n    /** Return true if the predicate is true for at least one value. */\n    some(f: ArrayFunc&lt;T, boolean&gt;): boolean;\n    /** Return true if the predicate is FALSE for all values. */\n    none(f: ArrayFunc&lt;T, boolean&gt;): boolean;\n\n    /** Return the first element in the data array. Returns undefined if the array is empty. */\n    first(): T;\n    /** Return the last element in the data array. Returns undefined if the array is empty. */\n    last(): T;\n\n    /** Map every element in this data array to the given key, and then flatten it.*/\n    to(key: string): DataArray&lt;any&gt;;\n    /**\n     * Recursively expand the given key, flattening a tree structure based on the key into a flat array. Useful for handling\n     * hierarchical data like tasks with 'subtasks'.\n     */\n    expand(key: string): DataArray&lt;any&gt;;\n\n    /** Run a lambda on each element in the array. */\n    forEach(f: ArrayFunc&lt;T, void&gt;): void;\n\n    /** Calculate the sum of the elements in the array. */\n    sum(): number;\n\n    /** Calculate the average of the elements in the array. */\n    avg(): number;\n\n    /** Calculate the minimum of the elements in the array. */\n    min(): number;\n\n    /** Calculate the maximum of the elements in the array. */\n    max(): number;\n\n    /** Convert this to a plain javascript array. */\n    array(): T[];\n\n    /** Allow iterating directly over the array. */\n    [Symbol.iterator](): Iterator&lt;T&gt;;\n\n    /** Map indexes to values. */\n    [index: number]: any;\n    /** Automatic flattening of fields. Equivalent to implicitly calling `array.to(\"field\")` */\n    [field: string]: any;\n}\n</code></pre>"},{"location":"api/intro/","title":"Overview","text":"<p>The Dataview JavaScript API allows for executing arbitrary JavaScript with access to the dataview indices and query engine, which is good for complex views or interop with other plugins. The API comes in two flavors: plugin facing, and user facing (or 'inline API usage').</p>"},{"location":"api/intro/#inline-access","title":"Inline Access","text":"<p>You can create a \"DataviewJS\" block via:</p> <pre><code>```dataviewjs\ndv.pages(\"#thing\")...\n```\n</code></pre> <p>Code executed in such codeblocks have access to the <code>dv</code> variable, which provides the entirety of the codeblock-relevant dataview API (like <code>dv.table()</code>, <code>dv.pages()</code>, and so on). For more information, check out the codeblock API reference.</p>"},{"location":"api/intro/#plugin-access","title":"Plugin Access","text":"<p>You can access the Dataview Plugin API (from other plugins or the console) through <code>app.plugins.plugins.dataview.api</code>; this API is similar to the codeblock reference, with slightly different arguments due to the lack of an implicit file to execute the queries in. For more information, check out the Plugin API reference.</p>"},{"location":"queries/data-commands/","title":"Data Commands","text":"<p>The different commands that dataview queries can be made up of. Commands are executed in order, and you can have duplicate commands (so multiple <code>WHERE</code> blocks or multiple <code>GROUP BY</code> blocks, for example).</p>"},{"location":"queries/data-commands/#from","title":"FROM","text":"<p>The <code>FROM</code> statement determines what pages will initially be collected and passed onto the other commands for further filtering. You can select from any source, which currently means by folder, by tag, or by incoming/outgoing links.</p> <ul> <li>Tags: To select from a tag (and all its subtags), use <code>FROM #tag</code>.</li> <li>Folders: To select from a folder (and all its subfolders), use <code>FROM \"folder\"</code>.</li> <li>Single Files: To select from a single file, use <code>FROM \"path/to/file\"</code>.</li> <li>Links: You can either select links TO a file, or all links FROM a file.</li> <li>To obtain all pages which link TO <code>[[note]]</code>, use <code>FROM [[note]]</code>.</li> <li>To obtain all pages which link FROM <code>[[note]]</code> (i.e., all the links in that file), use <code>FROM outgoing([[note]])</code>.</li> </ul> <p>You can compose these filters in order to get more advanced sources using <code>and</code> and <code>or</code>.</p> <ul> <li>For example, <code>#tag and \"folder\"</code> will return all pages in <code>folder</code> and with <code>#tag</code>.</li> <li><code>[[Food]] or [[Exercise]]</code> will give any pages which link to <code>[[Food]]</code> OR <code>[[Exercise]]</code>.</li> </ul> <p>You can also \"negate\" sources to obtain anything that does NOT match a source using <code>-</code>:</p> <ul> <li><code>-#tag</code> will exclude files which have the given tag.</li> <li><code>#tag and -\"folder\"</code> will only include files tagged <code>#tag</code> which are NOT in <code>\"folder\"</code>.</li> </ul>"},{"location":"queries/data-commands/#where","title":"WHERE","text":"<p>Filter pages on fields. Only pages where the clause evaluates to <code>true</code> will be yielded.</p> <pre><code>WHERE &lt;clause&gt;\n</code></pre> <ol> <li> <p>Obtain all files which were modified in the last 24 hours:</p> <pre><code>LIST WHERE file.mtime &gt;= date(today) - dur(1 day)\n</code></pre> </li> <li> <p>Find all projects which are not marked complete and are more than a month old:</p> <pre><code>LIST FROM #projects\nWHERE !completed AND file.ctime &lt;= date(today) - dur(1 month)\n</code></pre> </li> </ol>"},{"location":"queries/data-commands/#sort","title":"SORT","text":"<p>Sorts all results by one or more fields.</p> <pre><code>SORT date [ASCENDING/DESCENDING/ASC/DESC]\n</code></pre> <p>You can also give multiple fields to sort by. Sorting will be done based on the first field. Then, if a tie occurs, the second field will be used to sort the tied fields. If there is still a tie, the third sort will resolve it, and so on.</p> <pre><code>SORT field1 [ASCENDING/DESCENDING/ASC/DESC], ..., fieldN [ASC/DESC]\n</code></pre>"},{"location":"queries/data-commands/#group-by","title":"GROUP BY","text":"<p>Group all results on a field. Yields one row per unique field value, which has 2 properties: one corresponding to the field being grouped on, and a <code>rows</code> array field which contains all of the pages that matched.</p> <pre><code>GROUP BY field\nGROUP BY (computed_field) AS name\n</code></pre> <p>In order to make working with the <code>rows</code> array easier, Dataview supports field \"swizzling\". If you want the field <code>test</code> from every object in the <code>rows</code> array, then <code>rows.test</code> will automatically fetch the <code>test</code> field from every object in <code>rows</code>, yielding a new array. You can then apply aggregation operators like <code>sum()</code> or <code>flat()</code> over the resulting array.</p>"},{"location":"queries/data-commands/#flatten","title":"FLATTEN","text":"<p>Flatten an array in every row, yielding one result row per entry in the array.</p> <pre><code>FLATTEN field\nFLATTEN (computed_field) AS name\n</code></pre> <p>For example, flatten the <code>authors</code> field in each literature note to give one row per author:</p> Query <pre><code>TABLE authors FROM #LiteratureNote\nFLATTEN authors\n</code></pre> Output File authors stegEnvironmentalPsychologyIntroduction2018 SN Steg, L. stegEnvironmentalPsychologyIntroduction2018 SN Van den Berg, A. E. stegEnvironmentalPsychologyIntroduction2018 SN De Groot, J. I. M. Soap Dragons SN Robert Lamb Soap Dragons SN Joe McCormick smithPainAssaultSelf2007 SN Jonathan A. Smith smithPainAssaultSelf2007 SN Mike Osborn <p>A good use of this would be when there is a deeply nested list that you want to use more easily. For example, <code>file.lists</code> or <code>file.tasks</code>. Note the simpler query though the end results are slightly different (grouped vs non-grouped). You can use a <code>GROUP BY file.link</code> to achieve identical results but would need to use <code>rows.T.text</code> as described earlier.</p> <pre><code>table T.text as \"Task Text\"\nfrom \"Scratchpad\"\nflatten file.tasks as T\nwhere T.text\n</code></pre> <pre><code>table filter(file.tasks.text, (t) =&gt; t) as \"Task Text\"\nfrom \"Scratchpad\"\nwhere file.tasks.text\n</code></pre> <p><code>FLATTEN</code> makes it easier to operate on nested lists since you can then use simpler where conditions on them as opposed to using functions like <code>map()</code> or <code>filter()</code>.</p>"},{"location":"queries/data-commands/#limit","title":"LIMIT","text":"<p>Restrict the results to at most N values.</p> <pre><code>LIMIT 5\n</code></pre> <p>Commands are processed in the order they are written, so the following sorts the results after they have already been limited:</p> <pre><code>LIMIT 5\nSORT date ASCENDING\n</code></pre>"},{"location":"queries/differences-to-sql/","title":"Differences to SQL","text":""},{"location":"queries/differences-to-sql/#dataview-query-language-dql-and-sql","title":"Dataview Query Language (DQL) and SQL","text":"<p>If you are familiar with SQL and experienced in writing SQL queries, you might approach writing a DQL query in a similar way. However, DQL is significantly different from SQL.</p> <p>A DQL query is executed from top to bottom, line-by-line. It is more like a computer program than a typical SQL query.</p> <p>When a line is evaluated, it produces a result set and passes the whole set on to the next DQL line which will manipulate the set that it received from the previous line. This is why in DQL it is possible, for example, to have multiple WHERE clauses. But in DQL it is not a 'clause' but a 'data command'. Every line of a DQL query (except the 1st and 2nd lines) is a 'data command'.</p>"},{"location":"queries/differences-to-sql/#anatomy-of-a-dql-query","title":"Anatomy of a DQL query","text":"<p>Instead of starting with SELECT, a DQL query starts with a word determining the Query Type, which determines how your final result will be rendered on screen (a table, a list, a task list, or a calendar). Then follows the list of fields, which is actually very similar to the column list you put after a SELECT statement.</p> <p>The next line starts with FROM which is not followed by a table name but by a complex expression, similar to an SQL WHERE clause. Here you can filter on many things, like tags in files, file names, path names, etc. In the background, this command already produces a result set which will be our initial set for further data manipulation by 'data commands' on subsequent lines.</p> <p>You can have as many following lines as you want. Each will start with a data command and will re-shape the result set it received from the previous line. For example:</p> <ul> <li>The WHERE data command will only keep those lines from the result set which match a given condition. This means that, unless all data in the result set matches the condition, this command will pass on a smaller result set to the next line than it received from the previous line. Unlike in SQL, you can have as many WHERE commands as you like.</li> <li>The FLATTEN data command is not found in common SQL but in DQL you can use it to reduce the depth of the result set.</li> <li>DQL, similarly to SQL, has a GROUP BY command but this can also be used multiple times, which is not possible in common SQL. You can even do several SORT or GROUP BY commands one after the other.</li> </ul>"},{"location":"queries/dql-js-inline/","title":"DQL, JS and Inlines","text":"<p>Once you've added useful data to relevant pages, you'll want to actually display it somewhere or operate on it. Dataview allows this in four different ways, all of which are written in codeblocks directly in your Markdown and live-reloaded when your vault changes.</p>"},{"location":"queries/dql-js-inline/#dataview-query-language-dql","title":"Dataview Query Language (DQL)","text":"<p>The Dataview Query Language (for short DQL) is a SQL-like language and Dataviews core functionality. It supports four Query Types to produce different outputs, data commands to refine, resort or group your result and plentiful functions which allow numerous operations and adjustments to achieve your wanted output.</p> <p>Warning</p> <p>If you are familiar with SQL, please read Differences to SQL to avoid confusing DQL with SQL.</p> <p>You create a DQL query with a codeblock that uses <code>dataview</code> as type:</p> <pre><code>```dataview\nTABLE rating AS \"Rating\", summary AS \"Summary\" FROM #games\nSORT rating DESC\n```\n</code></pre> <p>Use backticks</p> <p>A valid codeblock needs to use backticks (`) on start and end (three each). Do not confuse the backtick with the similar looking apostrophe ' !</p> <p>Find a explanation how to write a DQL Query under the query language reference. If you learn better by example, take a look at the query examples.</p>"},{"location":"queries/dql-js-inline/#inline-dql","title":"Inline DQL","text":"<p>A Inline DQL uses a inline block format instead of a code block and a configurable prefix to mark this inline code block as a DQL block.</p> <pre><code>`= this.file.name`\n</code></pre> <p>Change of DQL prefix</p> <p>You can change the <code>=</code> to another token (like <code>dv:</code> or <code>~</code>) in Dataviews' settings under \"Codeblock Settings\" &gt; \"Inline Query Prefix\"</p> <p>Inline DQL Queries display exactly one value somewhere in the middle of your note. They seamlessly blend into the content of your note:</p> <pre><code>Today is `= date(today)` - `= [[exams]].deadline - date(today)` until exams!\n</code></pre> <p>would, for example, render to</p> <pre><code>Today is November 07, 2022 - 2 months, 5 days until exams!\n</code></pre> <p>Inline DQL queries always display exactly one value, not a list (or table) of values. You can access the properties of the current page via prefix <code>this.</code> or a different page via <code>[[linkToPage]].</code>.</p> <pre><code>`= this.file.name`\n`= this.file.mtime`\n`= this.someMetadataField`\n`= [[secondPage]].file.name`\n`= [[secondPage]].file.mtime`\n`= [[secondPage]].someMetadataField`\n</code></pre> <p>You can use everything available as expressions and literals in an Inline DQL Query, including functions. Query Types and Data Commands, on the other hand, are not available in Inlines.</p> <pre><code>Assignment due in `= this.due - date(today)`\nFinal paper due in `= [[Computer Science Theory]].due - date(today)`\n\n\ud83c\udfc3\u200d\u2642\ufe0f Goal reached? `= choice(this.steps &gt; 10000, \"YES!\", \"**No**, get moving!\")`\n\nYou have `= length(filter(link(dateformat(date(today), \"yyyy-MM-dd\")).file.tasks, (t) =&gt; !t.completed))` tasks to do. `= choice(date(today).weekday &gt; 5, \"Take it easy!\", \"Time to get work done!\")`\n</code></pre>"},{"location":"queries/dql-js-inline/#dataview-js","title":"Dataview JS","text":"<p>The dataview JavaScript API gives you the full power of JavaScript and provides a DSL for pulling Dataview data and executing queries, allowing you to create arbitrarily complex queries and views. Similar to the query language, you create Dataview JS blocks via a <code>dataviewjs</code>-annotated codeblock:</p> <pre><code>```dataviewjs\nlet pages = dv.pages(\"#books and -#books/finished\").where(b =&gt; b.rating &gt;= 7);\nfor (let group of pages.groupBy(b =&gt; b.genre)) {\n   dv.header(3, group.key);\n   dv.list(group.rows.file.name);\n}\n```\n</code></pre> <p>Inside of a JS dataview block, you have access to the full dataview API via the <code>dv</code> variable. For an explanation of what you can do with it, see the API documentation, or the API examples.</p> <p>Advanced usage</p> <p>Writing Javascript queries is a advanced technique that requires understanding in programming and JS. Please be aware that JS Queries have access to your file system and be cautious when using other peoples' JS Queries, especially when they are not publicly shared through the Obsidian Community.</p>"},{"location":"queries/dql-js-inline/#inline-dataview-js","title":"Inline Dataview JS","text":"<p>Similar to the query language, you can write JS inline queries, which let you embed a computed JS value directly. You create JS inline queries via inline code blocks:</p> <pre><code>`$= dv.current().file.mtime`\n</code></pre> <p>In inline DataviewJS, you have access to the <code>dv</code> variable, as in <code>dataviewjs</code> codeblocks, and can make all of the same calls. The result should be something which evaluates to a JavaScript value, which Dataview will automatically render appropriately.</p> <p>Unlike Inline DQL queries, Inline JS queries do have access to everything a Dataview JS Query has available and can hence query and output multiple pages.</p> <p>Change of Inline JS prefix</p> <p>You can change the <code>$=</code> to another token (like <code>dvjs:</code> or <code>$~</code>) in Dataviews' settings under \"Codeblock Settings\" &gt; \"Javascript Inline Query Prefix\"</p>"},{"location":"queries/query-types/","title":"Query Types","text":"<p>The Query Type determines how the output of your dataview query looks like. It is the first and only mandatory specification you give to a dataview query. There are four available: <code>LIST</code>, <code>TABLE</code>, <code>TASK</code> and <code>CALENDAR</code>.</p> <p>The Query Type also determines which information level a query is executed on. <code>LIST</code>, <code>TABLE</code> and <code>CALENDAR</code> operate at page level whereas <code>TASK</code> queries operate at the <code>file.tasks</code> level. More on that in the <code>TASK</code> Query Type.</p> <p>You can combine every Query Type with all available Data Commands to refine your result set. Read more about the interconnection between Query Types and Data Commands on How to Use Dataview and the structure page.</p> <p>Query Type</p> <p>The Query Type determines the output format of a query. It's the only mandatory information for a query.</p>"},{"location":"queries/query-types/#list","title":"LIST","text":"<p><code>LIST</code> queries output a bullet point list consisting of your file links or the group name, if you decided to group. You can specify up to one additional information to output alongside your file or group information.</p> <p>Query Type <code>LIST</code></p> <p><code>LIST</code> outputs a bullet point list of page links or Group keys. You can specify one additional information to show for each result.</p> <p>The simplest LIST query outputs a bullet point list of all files in your vault:</p> <pre><code>```dataview\nLIST\n```\n</code></pre> <p>Output</p> <ul> <li>Classic Cheesecake</li> <li>Git Basics</li> <li>How to fix Git Cheatsheet</li> <li>League of Legends</li> <li>Pillars of Eternity 2</li> <li>Stardew Valley</li> <li>Dashboard</li> </ul> <p>but you can, of course, use data commands to restrict which pages you want to have listed:</p> <pre><code>```dataview\nLIST\nFROM #games/mobas OR #games/crpg\n```\n</code></pre> <p>Output</p> <ul> <li>League of Legends</li> <li>Pillars of Eternity 2</li> </ul>"},{"location":"queries/query-types/#output-an-additional-information","title":"Output an additional information","text":"<p>To add a additional information to your query, specify it right after the <code>LIST</code> command and before possibly available data commands:</p> <pre><code>```dataview\nLIST file.folder\n```\n</code></pre> <p>Output</p> <ul> <li>Classic Cheesecake: Baking/Recipes</li> <li>Git Basics: Coding</li> <li>How to fix Git Cheatsheet: Coding/Cheatsheets</li> <li>League of Legends: Games</li> <li>Pillars of Eternity 2: Games</li> <li>Stardew Valley: Games/finished</li> <li>Dashboard:</li> </ul> <p>You can only add one additional information, not multiple. But you can specify a computed value instead of a plain meta data field, which can contain information of multiple fields:</p> <pre><code>```dataview\nLIST \"File Path: \" + file.folder + \" _(created: \" + file.cday + \")_\"\nFROM \"Games\"\n```\n</code></pre> <p>Output</p> <ul> <li>League of Legends: File Path: Games (created: May 13, 2021)</li> <li>Pillars of Eternity 2: File Path: Games (created: February 02, 2022)</li> <li>Stardew Valley: File Path: Games/finished (created: April 04, 2021)</li> </ul>"},{"location":"queries/query-types/#grouping","title":"Grouping","text":"<p>A grouped list shows their group keys, and only the group keys, by default:</p> <pre><code>```dataview\nLIST\nGROUP BY type\n```\n</code></pre> <p>Output</p> <ul> <li>game</li> <li>knowledge</li> <li>moc</li> <li>recipe</li> <li>summary</li> </ul> <p>A common use-case on grouped <code>LIST</code> queries is to add the file links to the output by specifying them as the additional information:</p> <pre><code>```dataview\nLIST rows.file.link\nGROUP BY type\n```\n</code></pre> <ul> <li>game:<ul> <li>Stardew Valley</li> <li>League of Legends</li> <li>Pillars of Eternity 2</li> </ul> </li> <li>knowledge:<ul> <li>Git Basics</li> </ul> </li> <li>moc:<ul> <li>Dashboard</li> </ul> </li> <li>recipe:<ul> <li>Classic Cheesecake</li> </ul> </li> <li>summary:<ul> <li>How to fix Git Cheatsheet</li> </ul> </li> </ul>"},{"location":"queries/query-types/#list-without-id","title":"LIST WITHOUT ID","text":"<p>If you don't want the file name or group key included in the list view, you can use <code>LIST WITHOUT ID</code>. <code>LIST WITHOUT ID</code> works the same as <code>LIST</code>, but it does not output the file link or group name if you add an additional information.</p> <pre><code>```dataview\nLIST WITHOUT ID\n```\n</code></pre> <p>Output</p> <ul> <li>Classic Cheesecake</li> <li>Git Basics</li> <li>How to fix Git Cheatsheet</li> <li>League of Legends</li> <li>Pillars of Eternity 2</li> <li>Stardew Valley</li> <li>Dashboard</li> </ul> <p>It's the same as <code>LIST</code>, because it does not contain an additional information!</p> <pre><code>```dataview\nLIST WITHOUT ID type\n```\n</code></pre> <p>Output</p> <ul> <li>moc</li> <li>recipe</li> <li>summary</li> <li>knowledge</li> <li>game</li> <li>game</li> <li>game</li> </ul> <p><code>LIST WITHOUT ID</code> can be handy if you want to output computed values, for example.</p> <pre><code>```dataview\nLIST WITHOUT ID length(rows) + \" pages of type \" + key\nGROUP BY type\n```\n</code></pre> <p>Output</p> <ul> <li>3 pages of type game</li> <li>1 pages of type knowledge</li> <li>1 pages of type moc</li> <li>1 pages of type recipe</li> <li>1 pages of type summary</li> </ul>"},{"location":"queries/query-types/#table","title":"TABLE","text":"<p>The <code>TABLE</code> query types outputs page data as a tabular view. You can add zero to multiple meta data fields to your <code>TABLE</code> query by adding them as a comma separated list. You can not only use plain meta data fields as columns, but specify calculations as well. Optionally, you can specify a table header via the <code>AS &lt;header&gt;</code> syntax. Like all other query types, you can refine your result set for your query with data commands.</p> <p><code>TABLE</code> Query Type</p> <p><code>TABLE</code> queries render a tabular view of any number of meta data values or calculations. It is possible to specify column headers via <code>AS &lt;header&gt;</code>.</p> <pre><code>```dataview\nTABLE\n```\n</code></pre> <p>Output</p> File (7) Classic Cheesecake Git Basics How to fix Git Cheatsheet League of Legends Pillars of Eternity 2 Stardew Valley Dashboard <p>Changing the first column header name</p> <p>You can change the name of the first column header (by default \"File\" or \"Group\") via the Dataview Settings under Table Settings -&gt; Primary Column Name / Group Column Name. If you want to change the name only for one specific <code>TABLE</code> query, have a look at <code>TABLE WITHOUT ID</code>.</p> <p>Disabling Result count</p> <p>The first column always shows the result count. If you do not want to get it displayed, you can disable it in Dataview's settings (\"Display result count\", available since 0.5.52).</p> <p>Of course, a <code>TABLE</code> is made for specifying one to multiple additional information:</p> <pre><code>```dataview\nTABLE started, file.folder, file.etags\nFROM #games\n```\n</code></pre> <p>Output</p> File (3) started file.folder file.etags League of Legends May 16, 2021 Games - #games/moba Pillars of Eternity 2 April 21, 2022 Games - #games/crpg Stardew Valley April 04, 2021 Games/finished - #games/simulation <p>Implicit fields</p> <p>Curious about <code>file.folder</code> and <code>file.etags</code>? Learn more about implicit fields on pages.</p>"},{"location":"queries/query-types/#custom-column-headers","title":"Custom Column Headers","text":"<p>You can specify custom headings for your columns by using the <code>AS</code> syntax:</p> <pre><code>```dataview\nTABLE started, file.folder AS Path, file.etags AS \"File Tags\"\nFROM #games\n```\n</code></pre> <p>Output</p> File (3) started Path File Tags League of Legends May 16, 2021 Games - #games/moba Pillars of Eternity 2 April 21, 2022 Games - #games/crpg Stardew Valley April 04, 2021 Games/finished - #games/simulation <p>Custom headers with spaces</p> <p>If you want to use a custom header with spaces, like <code>File Tags</code>, you need to wrap it into double quotes: <code>\"File Tags\"</code>.</p> <p>This is especially useful when you want to use calculations or expressions as column values:</p> <pre><code>```dataview\nTABLE\ndefault(finished, date(today)) - started AS \"Played for\",\nfile.folder AS Path,\nfile.etags AS \"File Tags\"\nFROM #games\n```\n</code></pre> <p>Output</p> File (3) Played for Path File Tags League of Legends 1 years, 6 months, 1 weeks Games - #games/moba Pillars of Eternity 2 7 months, 2 days Games - #games/crpg Stardew Valley 4 months, 3 weeks, 3 days Games/finished - #games/simulation <p>Calculations and expressions</p> <p>Learn more about the capability of computing expressions and calculations under expressions and functions.</p>"},{"location":"queries/query-types/#table-without-id","title":"TABLE WITHOUT ID","text":"<p>If you don't want the first column (\"File\" or \"Group\" by default), you can use <code>TABLE WITHOUT ID</code>. <code>TABLE WITHOUT ID</code> works the same as <code>TABLE</code>, but it does not output the file link or group name as a first column if you add additional information.</p> <p>You can use this if you, for example, output another identifying value:</p> <pre><code>```dataview\nTABLE WITHOUT ID\nsteamid,\nfile.etags AS \"File Tags\"\nFROM #games\n```\n</code></pre> <p>Output</p> steamid (3) File Tags 560130 - #games/crog - - #games/moba 413150 - #games/simulation <p>Also, you can use <code>TABLE WITHOUT ID</code> if you want to rename the first column for one specific query.</p> <pre><code>```dataview\nTABLE WITHOUT ID\nfile.link AS \"Game\",\nfile.etags AS \"File Tags\"\nFROM #games\n```\n</code></pre> <p>Output</p> Game (3) File Tags League of Legends - #games/moba Pillars of Eternity 2 - #games/crpg Stardew Valley - #games/simulation <p>Renaming the first column in general</p> <p>If you want to rename the first column in all cases, change the name in Dataviews settings under Table Settings.</p>"},{"location":"queries/query-types/#task","title":"TASK","text":"<p>The <code>TASK</code> Query outputs an interactive list of all tasks in your vault that match the given data commands (if any). <code>TASK</code> queries are special compared to the other Query Types because they do give back Tasks as results and not pages. This implies that all data commands operate on Task level and makes it possible to granularly filter your tasks i.e. for their status or meta data specified on the task itself.</p> <p>Also, <code>TASK</code> Queries are the only possibility to manipulate your files through DQL. Normally, Dataview does not touch the content of your files; however, if you check a task through a dataview query, it'll get checked in its original file, too. In the Dataview Settings under \"Task Settings\", you can opt-in to automatically set a <code>completion</code> meta data field when checking a task in dataview. Mind though that this only works if you check the task inside a dataview block.</p> <p><code>TASK</code> Query Type</p> <p><code>TASK</code> queries render an interactive list of all tasks in your vault. <code>TASK</code> Queries are executed on task level, not page level, allowing for task-specific filtering. This is the only command in dataview that modifies your original files if interacted with.</p> <pre><code>```dataview\nTASK\n```\n</code></pre> <p>Output</p> <ul> <li> Buy new shoes #shopping</li> <li> Mail Paul about training schedule</li> <li> Finish the math assignment<ul> <li> Finish Paper 1 [due:: 2022-08-13]</li> <li> Read again through chapter 3 [due:: 2022-09-01]</li> <li> Write a cheatsheet [due:: 2022-08-02]</li> <li> Write a summary of chapter 1-4 [due:: 2022-09-12]</li> </ul> </li> <li> Hand in physics</li> <li> Get new pillows for mom #shopping</li> <li> Buy some working pencils #shopping</li> </ul> <p>You can use data commands like for all other Query Types. Data Commands are executed on task level, making implicit fields on tasks directly available.</p> <pre><code>```dataview\nTASK\nWHERE !completed AND contains(tags, \"#shopping\")\n```\n</code></pre> <p>Output</p> <ul> <li> Buy new shoes #shopping</li> <li> Get new pillows for mom #shopping</li> </ul> <p>A common use case for tasks is to group tasks by their originating file:</p> <pre><code>```dataview\nTASK\nWHERE !completed\nGROUP BY file.link\n```\n</code></pre> <p>Output</p> <p>2022-07-30 (1)</p> <ul> <li> Finish the math assignment<ul> <li> Read again through chapter 3 [due:: 2022-09-01]</li> <li> Write a summary of chapter 1-4 [due:: 2022-09-12]</li> </ul> </li> </ul> <p>2022-09-21 (2)</p> <ul> <li> Buy new shoes #shopping</li> <li> Mail Paul about training schedule</li> </ul> <p>2022-09-27 (1)</p> <ul> <li> Get new pillows for mom #shopping</li> </ul> <p>Counting tasks with subtask</p> <p>Noticing the (1) on the header of <code>2022-07-30</code>? Child tasks belong to their parent task and are not counted separately. Also, they behave differently on filtering.</p>"},{"location":"queries/query-types/#child-tasks","title":"Child Tasks","text":"<p>A task is considered a child task if it is indented by a tab and is below an unindented task.</p> <ul> <li> clean up the house<ul> <li> kitchen</li> <li> living room</li> <li> Bedroom [urgent:: true]</li> </ul> </li> </ul> <p>Children of a bullet point item</p> <p>While indented tasks under a bulleted list item are, strictly speaking, also child tasks, Dataview will handle them like normal tasks in most cases.</p> <p>Child Tasks belong to their parent. This means if you're querying for tasks, you'll get child tasks as part of their parent back.</p> <pre><code>```dataview\nTASK\n```\n</code></pre> <p>Output</p> <ul> <li> clean up the house<ul> <li> kitchen</li> <li> living room</li> <li> Bedroom [urgent:: true]</li> </ul> </li> <li> Call the insurance about the car</li> <li> Find out the transaction number</li> </ul> <p>This specifically means that child task will be part of your result set as long as the parent matches the query - even if the child task itself doesn't.</p> <pre><code>```dataview\nTASK\nWHERE !completed\n```\n</code></pre> <p>Output</p> <ul> <li> clean up the house<ul> <li> kitchen</li> <li> living room</li> <li> Bedroom [urgent:: true]</li> </ul> </li> <li> Call the insurance about the car</li> </ul> <p>Here, <code>living room</code> does not match the query, but is included anyway, because its parent <code>clean up the house</code> does match.</p> <p>Mind that you'll get individual children tasks back, if the child matches your predicate but the parent doesn't:</p> <pre><code>```dataview\nTASK\nWHERE urgent\n```\n</code></pre> <p>Output</p> <ul> <li> Bedroom [urgent:: true]</li> </ul>"},{"location":"queries/query-types/#calendar","title":"CALENDAR","text":"<p>The <code>CALENDAR</code> Query outputs a monthly based calendar where every result is depicted as a dot on it referring date. The <code>CALENDAR</code> is the only Query Type that requires an additional information. This additional information needs to be a date (or unset) on all queried pages.</p> <p><code>CALENDAR</code> Query Type</p> <p>The <code>CALENDAR</code> Query Types renders a calendar view where every result is represented by a dot on the given meta data field date.</p> <pre><code>```dataview\nCALENDAR file.ctime\n```\n</code></pre> <p>Output</p> <p></p> <p>While it is possible to use <code>SORT</code> and <code>GROUP BY</code> in combination with <code>CALENDAR</code>, it has no effect. Additionally, the calendar query does not render if the given meta data field contains something else than a valid date (but the field can be empty). To make sure you're only taking valid pages into account, you can filter for valid meta data values:</p> <pre><code>```dataview\nCALENDAR due\nWHERE typeof(due) = \"date\"\n```\n</code></pre>"},{"location":"queries/structure/","title":"Structure of a Query","text":"<p>Dataview offers multiple ways to write queries and the syntax differs for each.</p> <p>This page provides information on how to write a Dataview Query Language (DQL) query. If you're interested in how to write Inline Queries, refer to the inline section on DQL, JS and Inlines. You'll find more information about Javascript Queries on the Javascript Reference.</p> <p>DQL is a SQL like query language for creating different views or calculations on your data. It supports:</p> <ul> <li>Choosing an output format of your output (the Query Type)</li> <li>Fetch pages from a certain source, i.e. a tag, folder or link</li> <li>Filtering pages/data by simple operations on fields, like comparison, existence checks, and so on</li> <li>Transforming fields for displaying, i.e. with calculations or splitting up multi-value fields</li> <li>Sorting results based on fields</li> <li>Grouping results based on fields</li> <li>Limiting your result count</li> </ul> <p>Warning</p> <p>If you are familiar with SQL, please read Differences to SQL to avoid confusing DQL with SQL.</p> <p>Let's have a look at how we can put DQL to use.</p>"},{"location":"queries/structure/#general-format-of-a-dql-query","title":"General Format of a DQL Query","text":"<p>Every query follows the same structure and consists of</p> <ul> <li>exactly one Query Type with zero, one or many fields, depending on query type</li> <li>zero or one FROM data commands with one to many sources</li> <li>zero to many other data commands with one to many expressions and/or other infos depending on the data command</li> </ul> <p>At a high level, a query conforms to the following pattern:</p> <pre><code>```dataview\n&lt;QUERY-TYPE&gt; &lt;fields&gt;\nFROM &lt;source&gt;\n&lt;DATA-COMMAND&gt; &lt;expression&gt;\n&lt;DATA-COMMAND&gt; &lt;expression&gt;\n          ...\n```\n</code></pre> <p>Only the Query Type is mandatory.</p> <p>The following sections will explain the theory in further detail.</p>"},{"location":"queries/structure/#choose-a-output-format","title":"Choose a Output Format","text":"<p>The output format of a query is determined by its Query Type. There are four available:</p> <ol> <li>TABLE: A table of results with one row per result and one or many columns of field data.</li> <li>LIST: A bullet point list of pages which match the query. You can output one field for each page alongside their file links.</li> <li>TASK: An interactive task list of tasks that match the given query.</li> <li>CALENDAR: A calendar view displaying each hit via a dot on its referred date.</li> </ol> <p>The Query Type is the only mandatory command in a query. Everything else is optional.</p> <p>Possibly memory intense examples</p> <p>Depending on the size of your vault, executing the following examples can take long and even freeze Obsidian in extreme cases. It's recommended that you specify a <code>FROM</code> to restrict the query execution to a specific subset of your vaults' files. See next section.</p> <pre><code>Lists all pages in your vault as a bullet point list\n```dataview\nLIST\n```\n\nLists all tasks (completed or not) in your vault\n```dataview\nTASK\n```\n\nRenders a Calendar view where each page is represented as a dot on its creation date.\n```dataview\nCALENDAR file.cday\n```\n\nShows a table with all pages of your vault, their field value of due, the files' tags and an average of the values of multi-value field working-hours\n```dataview\nTABLE due, file.tags AS \"tags\", average(working-hours)\n```\n</code></pre> <p>Read more about the available Query Types and how to use them here.</p>"},{"location":"queries/structure/#choose-your-source","title":"Choose your source","text":"<p>Additionally to the Query Types, you have several Data Commands available that help you restrict, refine, sort or group your query. One of these query commands is the FROM statement. <code>FROM</code> takes a source or a combination of sources as an argument and restricts the query to a set of pages that match your source.</p> <p>It behaves differently from the other Data Commands: You can add zero or one <code>FROM</code> data command to your query, right after your Query Type. You cannot add multiple FROM statements and you cannot add it after other Data Commands.</p> <pre><code>Lists all pages inside the folder Books and its sub folders\n```dataview\nLIST\nFROM \"Books\"\n```\n\nLists all pages that include the tag #status/open or #status/wip\n```dataview\nLIST\nFROM #status/open OR #status/wip\n```\n\nLists all pages that have either the tag #assignment and are inside folder \"30 School\" (or its sub folders), or are inside folder \"30 School/32 Homeworks\" and are linked on the page School Dashboard Current To Dos\n```dataview\nLIST\nFROM (#assignment AND \"30 School\") OR (\"30 School/32 Homeworks\" AND outgoing([[School Dashboard Current To Dos]]))\n```\n</code></pre> <p>Read more about <code>FROM</code> here.</p>"},{"location":"queries/structure/#filter-sort-group-or-limit-results","title":"Filter, sort, group or limit results","text":"<p>In addition to the Query Types and the Data command <code>FROM</code> that's explained above, you have several other Data Commands available that help you restrict, refine, sort or group your query results.</p> <p>All data commands except the <code>FROM</code> command can be used multiple times in any order (as long as they come after the Query Type and <code>FROM</code>, if <code>FROM</code> is used at all). They'll be executed in the order they are written.</p> <p>Available are:</p> <ol> <li>FROM like explained above.</li> <li>WHERE: Filter notes based on information inside notes, the meta data fields.</li> <li>SORT: Sorts your results depending on a field and a direction.</li> <li>GROUP BY: Bundles up several results into one result row per group.</li> <li>LIMIT: Limits the result count of your query to the given number.</li> <li>FLATTEN: Splits up one result into multiple results based on a field or calculation.</li> </ol> <pre><code>Lists all pages that have a metadata field `due` and where `due` is before today\n```dataview\nLIST\nWHERE due AND due &lt; date(today)\n```\n\nLists the 10 most recently created pages in your vault that have the tag #status/open\n```dataview\nLIST\nFROM #status/open\nSORT file.ctime DESC\nLIMIT 10\n```\n\nLists the 10 oldest and incomplete tasks of your vault as an interactive task list, grouped by their containing file and sorted from oldest to newest file.\n```dataview\nTASK\nWHERE !completed\nSORT created ASC\nLIMIT 10\nGROUP BY file.link\nSORT rows.file.ctime ASC\n```\n</code></pre> <p>Find out more about available data commands.</p>"},{"location":"queries/structure/#examples","title":"Examples","text":"<p>Following are some example queries. Find more examples here.</p> <pre><code>```dataview\nTASK\n```\n</code></pre> <pre><code>```dataview\nTABLE recipe-type AS \"type\", portions, length\nFROM #recipes\n```\n</code></pre> <pre><code>```dataview\nLIST\nFROM #assignments\nWHERE status = \"open\"\n```\n</code></pre> <pre><code>```dataview\nTABLE file.ctime, appointment.type, appointment.time, follow-ups\nFROM \"30 Protocols/32 Management\"\nWHERE follow-ups\nSORT appointment.time\n```\n</code></pre> <pre><code>```dataview\nTABLE L.text AS \"My lists\"\nFROM \"dailys\"\nFLATTEN file.lists AS L\nWHERE contains(L.author, \"Surname\")\n```\n</code></pre> <pre><code>```dataview\nLIST rows.c\nWHERE typeof(contacts) = \"array\" AND contains(contacts, [[Mr. L]])\nSORT length(contacts)\nFLATTEN contacts as c\nSORT link(c).age ASC\n```\n</code></pre>"},{"location":"reference/expressions/","title":"Expressions","text":"<p>Dataview query language expressions are anything that yields a value:</p> <ul> <li>all fields</li> <li>all literals </li> <li>and computed values, like <code>field - 9</code> of function calls. </li> </ul> <p>Basically, everything that is not a Query Type, nor a data command is an expression.</p> <p>For a very high level summary, following is considered an expression in DQL:</p> <pre><code># Literals\n1                   (number)\ntrue/false          (boolean)\n\"text\"              (text)\ndate(2021-04-18)    (date)\ndur(1 day)          (duration)\n[[Link]]            (link)\n[1, 2, 3]           (list)\n{ a: 1, b: 2 }      (object)\n\n# Lambdas\n(x1, x2) =&gt; ...     (lambda)\n\n# References\nfield               (directly refer to a field)\nsimple-field        (refer to fields with spaces/punctuation in them like \"Simple Field!\")\na.b                 (if a is an object, retrieve field named 'b')\na[expr]             (if a is an object or array, retrieve field with name specified by expression 'expr')\nf(a, b, ...)        (call a function called `f` on arguments a, b, ...)\n\n# Arithmetic\na + b               (addition)\na - b               (subtraction)\na * b               (multiplication)\na / b               (division)\na % b               (modulo / remainder of division)\n\n# Comparison\na &gt; b               (check if a is greater than b)\na &lt; b               (check if a is less than b)\na = b               (check if a equals b)\na != b              (check if a does not equal b)\na &lt;= b              (check if a is less than or equal to b)\na &gt;= b              (check if a is greater than or equal to b)\n\n# Strings\n\na + b               (string concatenation)\na * num             (repeat string &lt;num&gt; times)\n\n# Special Operations\n[[Link]].value      (fetch `value` from page `Link`)\n</code></pre> <p>More detailed explanations of each follow.</p>"},{"location":"reference/expressions/#expression-types","title":"Expression Types","text":""},{"location":"reference/expressions/#fields-as-expressions","title":"Fields as Expressions","text":"<p>The simplest expression is one that just directly refers to a field. If you have a field called \"duedate\", then you can refer to it directly by name - <code>duedate</code>. </p> <pre><code>```dataview\nTABLE duedate, class, field-with-space\n```\n</code></pre> <p>Field names with spaces and punctuations</p> <p>If the field name has spaces, punctuation, or other non-letter/number characters, then you can refer to it using Dataview's simplified name, which is all lower case with spaces replaced with \"-\". For example, <code>this is a field</code> becomes <code>this-is-a-field</code>; <code>Hello!</code> becomes <code>hello</code>, and so on. Read more under Field names</p>"},{"location":"reference/expressions/#literals","title":"Literals","text":"<p>Constant values - things like <code>1</code> or <code>\"hello\"</code> or <code>date(som)</code> (\"start of month\"). There are literals for each data type that dataview supports; read more about them here.</p> <pre><code>```dataview\nLIST\nWHERE file.name = \"Scribble\"\n```\n</code></pre>"},{"location":"reference/expressions/#arithmetic","title":"Arithmetic","text":"<p>You can use standard arithmetic operators to combine fields: addition (<code>+</code>), subtraction (<code>-</code>), multiplication (<code>*</code>), and division (<code>/</code>). For example <code>field1 + field2</code> is an expression which computes the sum of the two fields.</p> <pre><code>```dataview\nTABLE start, end, (end - start) - dur(8 h) AS \"Overtime\" \nFROM #work\n```\n\n```dataview\nTABLE hrs / 24 AS \"days\"\nFROM \"30 Projects\"\n```\n</code></pre>"},{"location":"reference/expressions/#comparisons","title":"Comparisons","text":"<p>You can compare most values using the various comparison operators: <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>=</code>, <code>!=</code>. This yields a boolean true or false value which can be used in <code>WHERE</code> blocks in queries.</p> <pre><code>```dataview\nLIST\nFROM \"Games\"\nWHERE price &gt; 10\n```\n\n```dataview\nTASK\nWHERE due &lt;= date(today)\n```\n\n```dataview\nLIST\nFROM #homework\nWHERE status != \"done\"\n```\n</code></pre> <p>Comparing different types</p> <p>Comparing different data types with each other can lead to unexpected results. Take the second example: If <code>due</code> is not set (neither on page nor task level), it is <code>null</code> and <code>null &lt;= date(today)</code> returns true, including tasks without any due date. If this is not wanted, add a type check to make sure you're always comparing the same types: <pre><code>```dataview\nTASK\nWHERE typeof(due) = \"date\" AND due &lt;= date(today)\n```\n</code></pre> Most often, it is sufficient to check if the meta data is available via <code>WHERE due AND due &lt;= date(today)</code>, but checking the type is the safer way to get foreseeable results. </p>"},{"location":"reference/expressions/#listobject-indexing","title":"List/Object Indexing","text":"<p>You can retrieve data from lists/arrays via the index operator <code>list[&lt;index&gt;]</code>, where <code>&lt;index&gt;</code> is any computed expression. Lists are 0-indexed, so the first element is index 0, the second element is index 1, and so on. For example <code>list(\"A\", \"B\", \"C\")[0] = \"A\"</code>.</p> <p>A similar notation style works for objects. You can use <code>field[\"nestedfield\"]</code> to reference fields inside an object or otherwise similarly nested. For example, in the YAML defined below, we can reference <code>previous</code> via <code>episode_metadata[\"previous\"]</code>. <pre><code>---\naliases:\n  - \"ABC\"\ncurrent_episode: \"S01E03\"\nepisode_metadata:\n  previous: \"S01E02\"\n  next: \"S01E04\"\n---\n</code></pre></p> <p>You can also retrieve data from objects (which map text to data values) also using the index operator, where indexes are now strings/text instead of numbers. You can also use the shorthand <code>object.&lt;name&gt;</code>, where <code>&lt;name&gt;</code> is the name of the value to retrieve. For the previous frontmatter example, we could also use <code>episode_metadata.previous</code> to obtain the same value.</p> <p>Index expressions also work on objects which have fields that are not directly supported by the query language. A good example is <code>where</code>, since it is a keyword. If your frontmatter/metadata contains a field <code>where</code>, you can reference it via the <code>row</code> syntax: <code>row[\"where\"]</code>. See the note in the FAQ and the corresponding issue for further information.</p> <pre><code>```dataview\nTABLE id, episode_metadata.next, aliases[0]\n```\n</code></pre>"},{"location":"reference/expressions/#function-calls","title":"Function Calls","text":"<p>Dataview supports various functions for manipulating data, which are described in full in the functions documentation. They have the general syntax <code>function(arg1, arg2, ...)</code> - i.e., <code>lower(file.name)</code> or <code>regexmatch(\"A.+\", file.folder)</code>.</p> <pre><code>```dataview\nLIST\nWHERE contains(file.name, \"WIP\")\n```\n\n```dataview\nLIST\nWHERE string(file.day.year) = split(this.file.name, \"-W\")[0]\n```\n</code></pre>"},{"location":"reference/expressions/#lambdas","title":"Lambdas","text":"<p>Lambdas are advanced literals which let you define a function that takes some number of inputs, and produces an output. They have the general form:</p> <pre><code>(arg1, arg2, arg3, ...) =&gt; &lt;expression using args&gt;\n</code></pre> <p>Lambdas are used in several advanced operators like <code>reduce</code> and <code>map</code> to allow for complex transformations of data. A few examples:</p> <pre><code>(x) =&gt; x.field                  (return field of x, often used for map)\n(x, y) =&gt; x + y                 (sum x and y)\n(x) =&gt; 2 * x                    (double x)\n(value) =&gt; length(value) = 4    (return true if value is length 4)\n</code></pre> <pre><code>```dataview\nCALENDAR file.day\nFLATTEN all(map(file.tasks, (x) =&gt; x.completed)) AS \"allCompleted\"\nWHERE !allCompleted\n```\n</code></pre>"},{"location":"reference/expressions/#type-specific-interactions-values","title":"Type-specific Interactions &amp; Values","text":"<p>Most dataview types have special interactions with operators, or have additional fields that can be retrieved using the index operator. This is true for dates and durations and as well for links. Read more about date and durations on their respective section in Types of Metadata.</p>"},{"location":"reference/expressions/#links","title":"Links","text":"<p>You can \"index through\" a link to get values on the corresponding page. For example <code>[[Assignment Math]].duedate</code> would get the value <code>duedate</code> from page <code>Assignment Math</code>.</p> <p>Link Indexing in Expressions</p> <p>If your link is a field that you defined in an inline field or in front-matter, like <code>Class:: [[Math]]</code> and you want to get the field <code>timetable</code>, then you index into it by writing <code>Class.timetable</code>. Using <code>[[Class]].timetable</code> would look up the page literally called <code>Class</code>, and not <code>Math</code>!</p>"},{"location":"reference/functions/","title":"Functions","text":"<p>Dataview functions provide more advanced ways to manipulate data. You can use functions in data commands (except FROM) to filter or group or use them as additional information like TABLE columns or extra output for LIST queries to see your data in a new light.</p>"},{"location":"reference/functions/#how-functions-work","title":"How functions work","text":"<p>Functions are another form of expression and can be used everywhere you can use an expression. A function always gives you back a new value and follows this format:</p> <pre><code>functionname(parameter1, parameter2)\n</code></pre> <p>Parameters are again expressions and you can use literals, meta data fields, or even another function as parameter. You'll find out which data type your parameters need to have on the documentation of this page. Pay attention to the information inside the function brackets. Parameters in square brackets, i.e. <code>link(path, [display])</code> means they are optional and can be omitted. Find out more about the default behavior of each function on their explanation.</p>"},{"location":"reference/functions/#calling-functions-on-lists-of-values","title":"Calling functions on lists of values","text":"<p>Most functions can be applied either to single values (like <code>number</code>, <code>string</code>, <code>date</code>, etc.) OR to lists of those values. If a function is applied to a list, it also returns a list after the function is applied to each element in the list. For example:</p> <pre><code>lower(\"YES\") = \"yes\"\nlower([\"YES\", \"NO\"]) = [\"yes\", \"no\"]\n\nreplace(\"yes\", \"e\", \"a\") = \"yas\"\nreplace([\"yes\", \"ree\"], \"e\", \"a\") = [\"yas\", \"raa\"]\n</code></pre> <p>This so-called \"function vectorization\" will not be mentioned explicitly on the following definitions and is possible for a wide range of these functionalities implicitly.</p>"},{"location":"reference/functions/#constructors","title":"Constructors","text":"<p>Constructors which create values.</p>"},{"location":"reference/functions/#objectkey1-value1","title":"<code>object(key1, value1, ...)</code>","text":"<p>Creates a new object with the given keys and values. Keys and values should alternate in the call, and keys should always be strings/text.</p> <pre><code>object() =&gt; empty object\nobject(\"a\", 6) =&gt; object which maps \"a\" to 6\nobject(\"a\", 4, \"c\", \"yes\") =&gt; object which maps a to 4, and c to \"yes\"\n</code></pre>"},{"location":"reference/functions/#listvalue1-value2","title":"<code>list(value1, value2, ...)</code>","text":"<p>Creates a new list with the given values in it. <code>array</code> can be used an alias for <code>list</code>.</p> <pre><code>list() =&gt; empty list\nlist(1, 2, 3) =&gt; list with 1, 2, and 3\narray(\"a\", \"b\", \"c\") =&gt; list with \"a\", \"b\", and \"c\"\n</code></pre>"},{"location":"reference/functions/#dateany","title":"<code>date(any)</code>","text":"<p>Parses a date from the provided string, date, or link object, if possible, returning null otherwise.</p> <pre><code>date(\"2020-04-18\") = &lt;date object representing April 18th, 2020&gt;\ndate([[2021-04-16]]) = &lt;date object for the given page, referring to file.day&gt;\n</code></pre>"},{"location":"reference/functions/#datetext-format","title":"<code>date(text, format)</code>","text":"<p>Parses a date from text to luxon <code>DateTime</code> with the specified format. Note localized formats might not work. Uses Luxon tokens.</p> <pre><code>date(\"12/31/2022\", \"MM/dd/yyyy\") =&gt; DateTime for December 31th, 2022\ndate(\"210313\", \"yyMMdd\") =&gt; DateTime for March 13th, 2021\ndate(\"946778645000\", \"x\") =&gt; DateTime for \"2000-01-02T03:04:05\"\n</code></pre>"},{"location":"reference/functions/#durany","title":"<code>dur(any)</code>","text":"<p>Parses a duration from the provided string or duration, returning null on failure.</p> <pre><code>dur(8 minutes) = &lt;8 minutes&gt;\ndur(\"8 minutes, 4 seconds\") = &lt;8 minutes, 4 seconds&gt;\ndur(dur(8 minutes)) = dur(8 minutes) = &lt;8 minutes&gt;\n</code></pre>"},{"location":"reference/functions/#numberstring","title":"<code>number(string)</code>","text":"<p>Pulls the first number out of the given string, returning it if possible. Returns null if there are no numbers in the string.</p> <pre><code>number(\"18 years\") = 18\nnumber(34) = 34\nnumber(\"hmm\") = null\n</code></pre>"},{"location":"reference/functions/#stringany","title":"<code>string(any)</code>","text":"<p>Converts any value into a \"reasonable\" string representation. This sometimes produces less pretty results than just directly using the value in a query - it is mostly useful for coercing dates, durations, numbers, and so on into strings for manipulation.</p> <pre><code>string(18) = \"18\"\nstring(dur(8 hours)) = \"8 hours\"\nstring(date(2021-08-15)) = \"August 15th, 2021\"\n</code></pre>"},{"location":"reference/functions/#linkpath-display","title":"<code>link(path, [display])</code>","text":"<p>Construct a link object from the given file path or name. If provided with two arguments, the second argument is the display name for the link.</p> <pre><code>link(\"Hello\") =&gt; link to page named 'Hello'\nlink(\"Hello\", \"Goodbye\") =&gt; link to page named 'Hello', displays as 'Goodbye'\n</code></pre>"},{"location":"reference/functions/#embedlink-embed","title":"<code>embed(link, [embed?])</code>","text":"<p>Convert a link object into an embedded link; support for embedded links is somewhat spotty in Dataview views, though embedding of images should work.</p> <pre><code>embed(link(\"Hello.png\")) =&gt; embedded link to the \"Hello.png\" image, which will render as an actual image.\n</code></pre>"},{"location":"reference/functions/#elinkurl-display","title":"<code>elink(url, [display])</code>","text":"<p>Construct a link to an external url (like <code>www.google.com</code>). If provided with two arguments, the second argument is the display name for the link.</p> <pre><code>elink(\"www.google.com\") =&gt; link element to google.com\nelink(\"www.google.com\", \"Google\") =&gt; link element to google.com, displays as \"Google\"\n</code></pre>"},{"location":"reference/functions/#typeofany","title":"<code>typeof(any)</code>","text":"<p>Get the type of any object for inspection. Can be used in conjunction with other operators to change behavior based on type.</p> <pre><code>typeof(8) =&gt; \"number\"\ntypeof(\"text\") =&gt; \"string\"\ntypeof([1, 2, 3]) =&gt; \"array\"\ntypeof({ a: 1, b: 2 }) =&gt; \"object\"\ntypeof(date(2020-01-01)) =&gt; \"date\"\ntypeof(dur(8 minutes)) =&gt; \"duration\"\n</code></pre>"},{"location":"reference/functions/#numeric-operations","title":"Numeric Operations","text":""},{"location":"reference/functions/#roundnumber-digits","title":"<code>round(number, [digits])</code>","text":"<p>Round a number to a given number of digits. If the second argument is not specified, rounds to the nearest whole number; otherwise, rounds to the given number of digits.</p> <pre><code>round(16.555555) = 17\nround(16.555555, 2) = 16.56\n</code></pre>"},{"location":"reference/functions/#truncnumber","title":"<code>trunc(number)</code>","text":"<p>Truncates (\"cuts off\") the decimal point from a number.</p> <pre><code>trunc(12.937) = 12\ntrunc(-93.33333) = -93\ntrunc(-0.837764) = 0\n</code></pre>"},{"location":"reference/functions/#floornumber","title":"<code>floor(number)</code>","text":"<p>Always rounds down and returns the largest integer less than or equal to a given number. This means that negative numbers become more negative.</p> <pre><code>floor(12.937) = 12\nfloor(-93.33333) = -94\nfloor(-0.837764) = -1\n</code></pre>"},{"location":"reference/functions/#ceilnumber","title":"<code>ceil(number)</code>","text":"<p>Always rounds up and returns the smallest integer greater than or equal to a given number. This means negative numbers become less negative.</p> <pre><code>ceil(12.937) = 13\nceil(-93.33333) = -93\nceil(-0.837764) = 0\n</code></pre>"},{"location":"reference/functions/#mina-b","title":"<code>min(a, b, ..)</code>","text":"<p>Compute the minimum value of a list of arguments, or an array.</p> <pre><code>min(1, 2, 3) = 1\nmin([1, 2, 3]) = 1\n\nmin(\"a\", \"ab\", \"abc\") = \"a\"\n</code></pre>"},{"location":"reference/functions/#maxa-b","title":"<code>max(a, b, ...)</code>","text":"<p>Compute the maximum value of a list of arguments, or an array.</p> <pre><code>max(1, 2, 3) = 3\nmax([1, 2, 3]) = 3\n\nmax(\"a\", \"ab\", \"abc\") = \"abc\"\n</code></pre>"},{"location":"reference/functions/#sumarray","title":"<code>sum(array)</code>","text":"<p>Sums all numeric values in the array. If you have null values in your sum, you can eliminate them via the <code>nonnull</code> function.</p> <pre><code>sum([1, 2, 3]) = 6\nsum([]) = null\n\nsum(nonnull([null, 1, 8])) = 9\n</code></pre>"},{"location":"reference/functions/#productarray","title":"<code>product(array)</code>","text":"<p>Calculates the product of a list of numbers. If you have null values in your average, you can eliminate them via the <code>nonnull</code> function.</p> <pre><code>product([1,2,3]) = 6\nproduct([]) = null\n\nproduct(nonnull([null, 1, 2, 4])) = 8\n</code></pre>"},{"location":"reference/functions/#reducearray-operand","title":"<code>reduce(array, operand)</code>","text":"<p>A generic function to reduce a list into a single value, valid operands are <code>\"+\"</code>, <code>\"-\"</code>, <code>\"*\"</code>, <code>\"/\"</code> and the boolean operands <code>\"&amp;\"</code> and <code>\"|\"</code>. Note that using <code>\"+\"</code> and <code>\"*\"</code> equals the <code>sum()</code> and <code>product()</code> functions, and using <code>\"&amp;\"</code> and <code>\"|\"</code> matches <code>all()</code> and <code>any()</code>.</p> <pre><code>reduce([100, 20, 3], \"-\") = 77\nreduce([200, 10, 2], \"/\") = 10\nreduce(values, \"*\") = Multiplies every element of values, same as product(values)\nreduce(values, this.operand) = Applies the local field operand to each of the values\nreduce([\"\u2b50\", 3], \"*\") = \"\u2b50\u2b50\u2b50\", same as \"\u2b50\" * 3\n\nreduce([1]), \"+\") = 1, has the side effect of reducing the list into a single element\n</code></pre>"},{"location":"reference/functions/#averagearray","title":"<code>average(array)</code>","text":"<p>Computes the numeric average of numeric values. If you have null values in your average, you can eliminate them via the <code>nonnull</code> function.</p> <pre><code>average([1, 2, 3]) = 2\naverage([]) = null\n\naverage(nonnull([null, 1, 2])) = 1.5\n</code></pre>"},{"location":"reference/functions/#minbyarray-function","title":"<code>minby(array, function)</code>","text":"<p>Compute the minimum value of an array, using the provided function.</p> <pre><code>minby([1, 2, 3], (k) =&gt; k) = 1\nminby([1, 2, 3], (k) =&gt; 0 - k) =&gt; 3\n\nminby(this.file.tasks, (k) =&gt; k.due) =&gt; (earliest due)\n</code></pre>"},{"location":"reference/functions/#maxbyarray-function","title":"<code>maxby(array, function)</code>","text":"<p>Compute the maximum value of an array, using the provided function.</p> <pre><code>maxby([1, 2, 3], (k) =&gt; k) = 3\nmaxby([1, 2, 3], (k) =&gt; 0 - k) =&gt; 1\n\nmaxby(this.file.tasks, (k) =&gt; k.due) =&gt; (latest due)\n</code></pre> <p>--</p>"},{"location":"reference/functions/#objects-arrays-and-string-operations","title":"Objects, Arrays, and String Operations","text":"<p>Operations that manipulate values inside of container objects.</p>"},{"location":"reference/functions/#contains-and-friends","title":"<code>contains()</code> and friends","text":"<p>For a quick summary, here are some examples:</p> <pre><code>contains(\"Hello\", \"Lo\") = false\ncontains(\"Hello\", \"lo\") = true\n\nicontains(\"Hello\", \"Lo\") = true\nicontains(\"Hello\", \"lo\") = true\n\necontains(\"Hello\", \"Lo\") = false\necontains(\"Hello\", \"lo\") = true\necontains([\"this\",\"is\",\"example\"], \"ex\") = false\necontains([\"this\",\"is\",\"example\"], \"is\") = true\n</code></pre>"},{"location":"reference/functions/#containsobjectliststring-value","title":"<code>contains(object|list|string, value)</code>","text":"<p>Checks if the given container type has the given value in it. This function behave slightly differently based on whether the first argument is an object, a list, or a string. This function is case-sensitive.</p> <ul> <li>For objects, checks if the object has a key with the given name. For example,     <pre><code>contains(file, \"ctime\") = true\ncontains(file, \"day\") = true (if file has a date in its title, false otherwise)\n</code></pre></li> <li>For lists, checks if any of the array elements equals the given value. For example,     <pre><code>contains(list(1, 2, 3), 3) = true\ncontains(list(), 1) = false\n</code></pre></li> <li>For strings, checks if the given value is a substring (i.e., inside) the string.     <pre><code>contains(\"hello\", \"lo\") = true\ncontains(\"yes\", \"no\") = false\n</code></pre></li> </ul>"},{"location":"reference/functions/#icontainsobjectliststring-value","title":"<code>icontains(object|list|string, value)</code>","text":"<p>Case insensitive version of <code>contains()</code>.</p>"},{"location":"reference/functions/#econtainsobjectliststring-value","title":"<code>econtains(object|list|string, value)</code>","text":"<p>\"Exact contains\" checks if the exact match is found in the string/list. This function is case sensitive.</p> <ul> <li> <p>For strings, it behaves exactly like <code>contains()</code>.     <pre><code>econtains(\"Hello\", \"Lo\") = false\necontains(\"Hello\", \"lo\") = true\n</code></pre></p> </li> <li> <p>For lists, it checks if the exact word is in the list.     <pre><code>econtains([\"These\", \"are\", \"words\"], \"word\") = false\necontains([\"These\", \"are\", \"words\"], \"words\") = true\n</code></pre></p> </li> <li> <p>For objects, it checks if the exact key name is present in the object. It does not do recursive checks.     <pre><code>econtains({key:\"value\", pairs:\"here\"}, \"here\") = false\necontains({key:\"value\", pairs:\"here\"}, \"key\") = true\necontains({key:\"value\", recur:{recurkey: \"val\"}}, \"value\") = false\necontains({key:\"value\", recur:{recurkey: \"val\"}}, \"Recur\") = false\necontains({key:\"value\", recur:{recurkey: \"val\"}}, \"recurkey\") = false\n</code></pre></p> </li> </ul>"},{"location":"reference/functions/#containswordliststring-value","title":"<code>containsword(list|string, value)</code>","text":"<p>Checks if <code>value</code> has an exact word match in <code>string</code> or <code>list</code>. This is case insensitive. The outputs are different for different types of input, see examples.</p> <ul> <li> <p>For strings, it checks if the word is present in the given string.     <pre><code>containsword(\"word\", \"word\") = true\ncontainsword(\"word\", \"Word\") = true\ncontainsword(\"words\", \"Word\") = false\ncontainsword(\"Hello there!\", \"hello\") = true\ncontainsword(\"Hello there!\", \"HeLLo\") = true\ncontainsword(\"Hello there chaps!\", \"chap\") = false\ncontainsword(\"Hello there chaps!\", \"chaps\") = true\n</code></pre></p> </li> <li> <p>For lists, it returns a list of booleans indicating if the word's exact case insensitive match was found.     <pre><code>containsword([\"I have no words.\", \"words\"], \"Word\") = [false, false]\ncontainsword([\"word\", \"Words\"], \"Word\") = [true, false]\ncontainsword([\"Word\", \"Words in word\"], \"WORD\") = [true, true]\n</code></pre></p> </li> </ul>"},{"location":"reference/functions/#extractobject-key1-key2","title":"<code>extract(object, key1, key2, ...)</code>","text":"<p>Pulls multiple fields out of an object, creating a new object with just those fields.</p> <pre><code>extract(file, \"ctime\", \"mtime\") = object(\"ctime\", file.ctime, \"mtime\", file.mtime)\nextract(object(\"test\", 1)) = object()\n</code></pre>"},{"location":"reference/functions/#sortlist","title":"<code>sort(list)</code>","text":"<p>Sorts a list, returning a new list in sorted order.</p> <pre><code>sort(list(3, 2, 1)) = list(1, 2, 3)\nsort(list(\"a\", \"b\", \"aa\")) = list(\"a\", \"aa\", \"b\")\n</code></pre>"},{"location":"reference/functions/#reverselist","title":"<code>reverse(list)</code>","text":"<p>Reverses a list, returning a new list in reversed order.</p> <pre><code>reverse(list(1, 2, 3)) = list(3, 2, 1)\nreverse(list(\"a\", \"b\", \"c\")) = list(\"c\", \"b\", \"a\")\n</code></pre>"},{"location":"reference/functions/#lengthobjectarray","title":"<code>length(object|array)</code>","text":"<p>Returns the number of fields in an object, or the number of entries in an array.</p> <pre><code>length([]) = 0\nlength([1, 2, 3]) = 3\nlength(object(\"hello\", 1, \"goodbye\", 2)) = 2\n</code></pre>"},{"location":"reference/functions/#nonnullarray","title":"<code>nonnull(array)</code>","text":"<p>Return a new array with all null values removed.</p> <pre><code>nonnull([]) = []\nnonnull([null, false]) = [false]\nnonnull([1, 2, 3]) = [1, 2, 3]\n</code></pre>"},{"location":"reference/functions/#firstvaluearray","title":"<code>firstvalue(array)</code>","text":"<p>Return the first non-null value from the array, as a single element. This can be used to pick the first defined field in the children of a task/list item, like in <code>firstvalue(children.myField)</code>.</p> <pre><code>firstvalue([null, 1, 2]) =&gt; 1\nfirstvalue(children.myField) =&gt; If children.myField equals [null, null, \"myValue\", null], it would return \"myValue\"\n</code></pre>"},{"location":"reference/functions/#allarray","title":"<code>all(array)</code>","text":"<p>Returns <code>true</code> only if ALL values in the array are truthy. You can also pass multiple arguments to this function, in which case it returns <code>true</code> only if all arguments are truthy.</p> <pre><code>all([1, 2, 3]) = true\nall([true, false]) = false\nall(true, false) = false\nall(true, true, true) = true\n</code></pre> <p>You can pass a function as second argument to return only true if all elements in the array matches the predicate.</p> <pre><code>all([1, 2, 3], (x) =&gt; x &gt; 0) = true\nall([1, 2, 3], (x) =&gt; x &gt; 1) = false\nall([\"apple\", \"pie\", 3], (x) =&gt; typeof(x) = \"string\") = false\n</code></pre>"},{"location":"reference/functions/#anyarray","title":"<code>any(array)</code>","text":"<p>Returns <code>true</code> if ANY of the values in the array are truthy. You can also pass multiple arguments to this function, in which case it returns <code>true</code> if any of the arguments are truthy.</p> <pre><code>any(list(1, 2, 3)) = true\nany(list(true, false)) = true\nany(list(false, false, false)) = false\nany(true, false) = true\nany(false, false) = false\n</code></pre> <p>You can pass a function as second argument to return only true if any element in the array matches the predicate.</p> <pre><code>any(list(1, 2, 3), (x) =&gt; x &gt; 2) = true\nany(list(1, 2, 3), (x) =&gt; x = 0) = false\n</code></pre>"},{"location":"reference/functions/#nonearray","title":"<code>none(array)</code>","text":"<p>Returns <code>true</code> if NONE of the values in the array are truthy.</p> <pre><code>none([]) = true\nnone([false, false]) = true\nnone([false, true]) = false\nnone([1, 2, 3]) = false\n</code></pre> <p>You can pass a function as second argument to return only true if none of the elements in the array matches the predicate.</p> <pre><code>none([1, 2, 3], (x) =&gt; x = 0) = true\nnone([true, true], (x) =&gt; x = false) = true\nnone([\"Apple\", \"Pi\", \"Banana\"], (x) =&gt; startswith(x, \"A\")) = false\n</code></pre>"},{"location":"reference/functions/#joinarray-delimiter","title":"<code>join(array, [delimiter])</code>","text":"<p>Joins elements in an array into a single string (i.e., rendering them all on the same line). If provided with a second argument, then each element will be separated by the given separator.</p> <pre><code>join(list(1, 2, 3)) = \"1, 2, 3\"\njoin(list(1, 2, 3), \" \") = \"1 2 3\"\njoin(6) = \"6\"\njoin(list()) = \"\"\n</code></pre>"},{"location":"reference/functions/#filterarray-predicate","title":"<code>filter(array, predicate)</code>","text":"<p>Filters elements in an array according to the predicate, returning a new list of the elements which matched.</p> <pre><code>filter([1, 2, 3], (x) =&gt; x &gt;= 2) = [2, 3]\nfilter([\"yes\", \"no\", \"yas\"], (x) =&gt; startswith(x, \"y\")) = [\"yes\", \"yas\"]\n</code></pre>"},{"location":"reference/functions/#uniquearray","title":"<code>unique(array)</code>","text":"<p>Creates a new array with only unique values. </p> <pre><code>unique([1, 3, 7, 3, 1]) =&gt; [1, 3, 7]\n</code></pre>"},{"location":"reference/functions/#maparray-func","title":"<code>map(array, func)</code>","text":"<p>Applies the function to each element in the array, returning a list of the mapped results.</p> <pre><code>map([1, 2, 3], (x) =&gt; x + 2) = [3, 4, 5]\nmap([\"yes\", \"no\"], (x) =&gt; x + \"?\") = [\"yes?\", \"no?\"]\n</code></pre>"},{"location":"reference/functions/#flatarray-depth","title":"<code>flat(array, [depth])</code>","text":"<p>Concatenates sub-levels of the array to the desired depth. Default is 1 level, but it can concatenate multiple levels. E.g. Can be used to reduce array depth on <code>rows</code> lists after doing <code>GROUP BY</code>.</p> <pre><code>flat(list(1, 2, 3, list(4, 5), 6)) =&gt; list(1, 2, 3, 4, 5, 6)\nflat(list(1, list(21, 22), list(list (311, 312, 313))), 4) =&gt; list(1, 21, 22, 311, 312, 313)\nflat(rows.file.outlinks)) =&gt; All the file outlinks at first level in output\n</code></pre>"},{"location":"reference/functions/#slicearray-start-end","title":"<code>slice(array, [start, [end]])</code>","text":"<p>Returns a shallow copy of a portion of an array into a new array object selected from <code>start</code> to <code>end</code> (<code>end</code> not included) where <code>start</code> and <code>end</code> represents the index of items in that array.</p> <pre><code>slice([1, 2, 3, 4, 5], 3) = [4, 5] =&gt; All items from given position, 0 as first\nslice([\"ant\", \"bison\", \"camel\", \"duck\", \"elephant\"], 0, 2) = [\"ant\", \"bison\"] =&gt; First two items\nslice([1, 2, 3, 4, 5], -2) = [4, 5] =&gt; counts from the end, last two items\nslice(someArray) =&gt; a copy of someArray\n</code></pre>"},{"location":"reference/functions/#string-operations","title":"String Operations","text":""},{"location":"reference/functions/#regextestpattern-string","title":"<code>regextest(pattern, string)</code>","text":"<p>Checks if the given regex pattern can be found in the string (using the JavaScript regex engine).</p> <pre><code>regextest(\"\\w+\", \"hello\") = true\nregextest(\".\", \"a\") = true\nregextest(\"yes|no\", \"maybe\") = false\nregextest(\"what\", \"what's up dog?\") = true\n</code></pre>"},{"location":"reference/functions/#regexmatchpattern-string","title":"<code>regexmatch(pattern, string)</code>","text":"<p>Checks if the given regex pattern matches the entire string, using the JavaScript regex engine. This differs from <code>regextest</code> in that regextest can match just parts of the text.</p> <pre><code>regexmatch(\"\\w+\", \"hello\") = true\nregexmatch(\".\", \"a\") = true\nregexmatch(\"yes|no\", \"maybe\") = false\nregexmatch(\"what\", \"what's up dog?\") = false\n</code></pre>"},{"location":"reference/functions/#regexreplacestring-pattern-replacement","title":"<code>regexreplace(string, pattern, replacement)</code>","text":"<p>Replaces all instances where the regex <code>pattern</code> matches in <code>string</code>, with <code>replacement</code>. This uses the JavaScript replace method under the hood, so you can use special characters like <code>$1</code> to refer to the first capture group, and so on.</p> <pre><code>regexreplace(\"yes\", \"[ys]\", \"a\") = \"aea\"\nregexreplace(\"Suite 1000\", \"\\d+\", \"-\") = \"Suite -\"\n</code></pre>"},{"location":"reference/functions/#replacestring-pattern-replacement","title":"<code>replace(string, pattern, replacement)</code>","text":"<p>Replace all instances of <code>pattern</code> in <code>string</code> with <code>replacement</code>.</p> <pre><code>replace(\"what\", \"wh\", \"h\") = \"hat\"\nreplace(\"The big dog chased the big cat.\", \"big\", \"small\") = \"The small dog chased the small cat.\"\nreplace(\"test\", \"test\", \"no\") = \"no\"\n</code></pre>"},{"location":"reference/functions/#lowerstring","title":"<code>lower(string)</code>","text":"<p>Convert a string to all lower case.</p> <pre><code>lower(\"Test\") = \"test\"\nlower(\"TEST\") = \"test\"\n</code></pre>"},{"location":"reference/functions/#upperstring","title":"<code>upper(string)</code>","text":"<p>Convert a string to all upper case.</p> <pre><code>upper(\"Test\") = \"TEST\"\nupper(\"test\") = \"TEST\"\n</code></pre>"},{"location":"reference/functions/#splitstring-delimiter-limit","title":"<code>split(string, delimiter, [limit])</code>","text":"<p>Split a string on the given delimiter string. If a third argument is provided, it limits the number of splits that occur. The delimiter string is interpreted as a regular expression. If there are capture groups in the delimiter, matches are spliced into the result array, and non-matching captures are empty strings.</p> <pre><code>split(\"hello world\", \" \") = list(\"hello\", \"world\")\nsplit(\"hello  world\", \"\\s\") = list(\"hello\", \"world\")\nsplit(\"hello there world\", \" \", 2) = list(\"hello\", \"there\")\nsplit(\"hello there world\", \"(t?here)\") = list(\"hello \", \"there\", \" world\")\nsplit(\"hello there world\", \"( )(x)?\") = list(\"hello\", \" \", \"\", \"there\", \" \", \"\", \"world\")\n</code></pre>"},{"location":"reference/functions/#startswithstring-prefix","title":"<code>startswith(string, prefix)</code>","text":"<p>Checks if a string starts with the given prefix.</p> <pre><code>startswith(\"yes\", \"ye\") = true\nstartswith(\"path/to/something\", \"path/\") = true\nstartswith(\"yes\", \"no\") = false\n</code></pre>"},{"location":"reference/functions/#endswithstring-suffix","title":"<code>endswith(string, suffix)</code>","text":"<p>Checks if a string ends with the given suffix.</p> <pre><code>endswith(\"yes\", \"es\") = true\nendswith(\"path/to/something\", \"something\") = true\nendswith(\"yes\", \"ye\") = false\n</code></pre>"},{"location":"reference/functions/#padleftstring-length-padding","title":"<code>padleft(string, length, [padding])</code>","text":"<p>Pads a string up to the desired length by adding padding on the left side. If you omit the padding character, spaces will be used by default.</p> <pre><code>padleft(\"hello\", 7) = \"  hello\"\npadleft(\"yes\", 5, \"!\") = \"!!yes\"\n</code></pre>"},{"location":"reference/functions/#padrightstring-length-padding","title":"<code>padright(string, length, [padding])</code>","text":"<p>Equivalent to <code>padleft</code>, but pads to the right instead.</p> <pre><code>padright(\"hello\", 7) = \"hello  \"\npadright(\"yes\", 5, \"!\") = \"yes!!\"\n</code></pre>"},{"location":"reference/functions/#substringstring-start-end","title":"<code>substring(string, start, [end])</code>","text":"<p>Take a slice of a string, starting at <code>start</code> and ending at <code>end</code> (or the end of the string if unspecified).</p> <pre><code>substring(\"hello\", 0, 2) = \"he\"\nsubstring(\"hello\", 2, 4) = \"ll\"\nsubstring(\"hello\", 2) = \"llo\"\nsubstring(\"hello\", 0) = \"hello\"\n</code></pre>"},{"location":"reference/functions/#truncatestring-length-suffix","title":"<code>truncate(string, length, [suffix])</code>","text":"<p>Truncate a string to be at most the given length, including the <code>suffix</code> (which defaults to <code>...</code>). Generally useful to cut off long text in tables.</p> <pre><code>truncate(\"Hello there!\", 8) = \"Hello...\"\ntruncate(\"Hello there!\", 8, \"/\") = \"Hello t/\"\ntruncate(\"Hello there!\", 10) = \"Hello t...\"\ntruncate(\"Hello there!\", 10, \"!\") = \"Hello the!\"\ntruncate(\"Hello there!\", 20) = \"Hello there!\"\n</code></pre>"},{"location":"reference/functions/#utility-functions","title":"Utility Functions","text":""},{"location":"reference/functions/#defaultfield-value","title":"<code>default(field, value)</code>","text":"<p>If <code>field</code> is null, return <code>value</code>; otherwise return <code>field</code>. Useful for replacing null values with defaults. For example, to show projects which haven't been completed yet, use <code>\"incomplete\"</code> as their default value:</p> <pre><code>default(dateCompleted, \"incomplete\")\n</code></pre> <p>Default is vectorized in both arguments; if you need to use default explicitly on a list argument, use <code>ldefault</code>, which is the same as default but is not vectorized.</p> <pre><code>default(list(1, 2, null), 3) = list(1, 2, 3)\nldefault(list(1, 2, null), 3) = list(1, 2, null)\n</code></pre>"},{"location":"reference/functions/#display","title":"<code>display()</code>","text":"<p>Display function converts the input into a string representation while trying to preserve the display property of data types. This means that links and urls will be replaced by their display value.</p> <pre><code>display(\"Hello World\") = \"Hello World\"\ndisplay(\"**Hello** World\") = \"Hello World\"\ndisplay(\"[Hello](https://example.com) [[World]]\") = \"Hello World\"\ndisplay(link(\"path/to/file.md\")) = \"file\"\ndisplay(link(\"path/to/file.md\", \"displayname\")) = \"displayname\"\ndisplay(date(\"2024-11-18\")) = \"November 18, 2024\"\ndisplay(list(\"Hello\", \"World\")) = \"Hello, World\"\n</code></pre>"},{"location":"reference/functions/#choicebool-left-right","title":"<code>choice(bool, left, right)</code>","text":"<p>A primitive if statement - if the first argument is truthy, returns left; otherwise, returns right.</p> <pre><code>choice(true, \"yes\", \"no\") = \"yes\"\nchoice(false, \"yes\", \"no\") = \"no\"\nchoice(x &gt; 4, y, z) = y if x &gt; 4, else z\n</code></pre>"},{"location":"reference/functions/#hashseed-text-variant","title":"<code>hash(seed, [text], [variant])</code>","text":"<p>Generate a hash based on the <code>seed</code>, and the optional extra <code>text</code> or a variant <code>number</code>. The function generates a fixed number based on the combination of these parameters, which can be used to randomize the sort order of files or lists/tasks. If you choose a <code>seed</code> based on a date, i.e. \"2024-03-17\", or another timestamp, i.e. \"2024-03-17 19:13\", you can make the \"randomness\" be fixed related to that timestamp. <code>variant</code> is a number, which in some cases is needed to make the combination of <code>text</code> and <code>variant</code> become unique.</p> <pre><code>hash(dateformat(date(today), \"YYYY-MM-DD\"), file.name) = ... A unique value for a given date in time\nhash(dateformat(date(today), \"YYYY-MM-DD\"), file.name, position.start.line) = ... A unique \"random\" value in a TASK query\n</code></pre> <p>This function can be used in a <code>SORT</code> statement to randomize the order. If you're using a <code>TASK</code> query, since the file name could be the same for multiple tasks, you can add some number like the starting line number (as shown above) to make it a unique combination. If using something like <code>FLATTEN file.lists as item</code>, the similar addition would be to do <code>item.position.start.line</code> as the last parameter.</p>"},{"location":"reference/functions/#striptimedate","title":"<code>striptime(date)</code>","text":"<p>Strip the time component of a date, leaving only the year, month, and day. Good for date comparisons if you don't care about the time.</p> <pre><code>striptime(file.ctime) = file.cday\nstriptime(file.mtime) = file.mday\n</code></pre>"},{"location":"reference/functions/#dateformatdatedatetime-string","title":"<code>dateformat(date|datetime, string)</code>","text":"<p>Format a Dataview date using a formatting string. Uses Luxon tokens.</p> <pre><code>dateformat(file.ctime,\"yyyy-MM-dd\") = \"2022-01-05\"\ndateformat(file.ctime,\"HH:mm:ss\") = \"12:18:04\"\ndateformat(date(now),\"x\") = \"1407287224054\"\ndateformat(file.mtime,\"ffff\") = \"Wednesday, August 6, 2014, 1:07 PM Eastern Daylight Time\"\n</code></pre> <p>Note: <code>dateformat()</code> returns a string, not a date, so you can't compare it against the result from a call to <code>date()</code> or a variable like <code>file.day</code> which already is a date. To make those comparisons you can format both arguments.</p>"},{"location":"reference/functions/#durationformatduration-string","title":"<code>durationformat(duration, string)</code>","text":"<p>Format a Dataview duration using a formatting string. Anything inside single quotes will not be treated as a token and instead will be shown in the output as written. See examples.</p> <p>You may use these tokens:</p> <ul> <li><code>S</code> for milliseconds</li> <li><code>s</code> for seconds</li> <li><code>m</code> for minutes</li> <li><code>h</code> for hours</li> <li><code>d</code> for days</li> <li><code>w</code> for weeks</li> <li><code>M</code> for months</li> <li><code>y</code> for years</li> </ul> <pre><code>durationformat(dur(\"3 days 7 hours 43 seconds\"), \"ddd'd' hh'h' ss's'\") = \"003d 07h 43s\"\ndurationformat(dur(\"365 days 5 hours 49 minutes\"), \"yyyy ddd hh mm ss\") = \"0001 000 05 49 00\"\ndurationformat(dur(\"2000 years\"), \"M months\") = \"24000 months\"\ndurationformat(dur(\"14d\"), \"s 'seconds'\") = \"1209600 seconds\"\n</code></pre>"},{"location":"reference/functions/#currencyformatnumber-currency","title":"<code>currencyformat(number, [currency])</code>","text":"<p>Presents the number depending on your current locale, according to the <code>currency</code> code, from ISO 4217.</p> <pre><code>number = 123456.789\ncurrencyformat(number, \"EUR\") =  \u20ac123,456.79  in locale: en_US)\ncurrencyformat(number, \"EUR\") =  123.456,79 \u20ac in locale: de_DE)\ncurrencyformat(number, \"EUR\") =  \u20ac 123 456,79 in locale: nb)\n</code></pre>"},{"location":"reference/functions/#localtimedate","title":"<code>localtime(date)</code>","text":"<p>Converts a date in a fixed timezone to a date in the current timezone.</p>"},{"location":"reference/functions/#metalink","title":"<code>meta(link)</code>","text":"<p>Get an object containing metadata of a link. When you access a property on a link what you get back is the property value from the linked file. The <code>meta</code> function makes it possible to access properties of the link itself.</p> <p>There are several properties on the object returned by <code>meta</code>:</p>"},{"location":"reference/functions/#metalinkdisplay","title":"<code>meta(link).display</code>","text":"<p>Get the display text of a link, or null if the link does not have defined display text.</p> <pre><code>meta([[2021-11-01|Displayed link text]]).display = \"Displayed link text\"\nmeta([[2021-11-01]]).display = null\n</code></pre>"},{"location":"reference/functions/#metalinkembed","title":"<code>meta(link).embed</code>","text":"<p>True or false depending on whether the link is an embed. Those are links that begin with an exclamation mark, like <code>![[Some Link]]</code>.</p>"},{"location":"reference/functions/#metalinkpath","title":"<code>meta(link).path</code>","text":"<p>Get the path portion of a link.</p> <pre><code>meta([[My Project]]).path = \"My Project\"\nmeta([[My Project#Next Actions]]).path = \"My Project\"\nmeta([[My Project#^9bcbe8]]).path = \"My Project\"\n</code></pre>"},{"location":"reference/functions/#metalinksubpath","title":"<code>meta(link).subpath</code>","text":"<p>Get the subpath of a link. For links to a heading within a file the subpath will be the text of the heading. For links to a block the subpath will be the block ID. If neither of those cases applies then the subpath will be null.</p> <pre><code>meta([[My Project#Next Actions]]).subpath = \"Next Actions\"\nmeta([[My Project#^9bcbe8]]).subpath = \"9bcbe8\"\nmeta([[My Project]]).subpath = null\n</code></pre> <p>This can be used to select tasks under specific headings.</p> <pre><code>```dataview\ntask\nwhere meta(section).subpath = \"Next Actions\"\n```\n</code></pre>"},{"location":"reference/functions/#metalinktype","title":"<code>meta(link).type</code>","text":"<p>Has the value \"file\", \"header\", or \"block\" depending on whether the link links to an entire file, a heading within a file, or to a block within a file.</p> <pre><code>meta([[My Project]]).type = \"file\"\nmeta([[My Project#Next Actions]]).type = \"header\"\nmeta([[My Project#^9bcbe8]]).type = \"block\"\n</code></pre>"},{"location":"reference/literals/","title":"Literals","text":"<p>Dataview query language literals are expressions which represent constant values like a text (<code>\"Science\"</code>) or a number (<code>2021</code>). They can be used as part as functions or of expressions like comparison. Some examples of Queries that use literals:</p> <pre><code>Literal (number) 2022 used in a comparison\n```dataview\nLIST\nWHERE file.day.year = 2022\n```\n\nLiteral (text) \"Math\" used in a function call\n```dataview\nLIST\nWHERE contains(file.name, \"Math\")\n```\n\nLiteral (link) [[Study MOC]] used as a source\n```dataview\nLIST\nFROM [[Study MOC]]\n```\n\nLiteral (date) date(yesterday) used in a comparison\n```dataview\nTASK\nWHERE !completed AND file.day = date(yesterday)\n```\n\nLiteral (duration) dur(2 days) used in a comparison\n```dataview\nLIST\nWHERE end - start &gt; dur(2 days)\n```\n</code></pre> <p>Literals</p> <p>Literals are static values that can be used as part of the Dataview Query Language (DQL), i.e. for comparisons.</p> <p>The following is an extensive, but non-exhaustive list of possible literals in DQL.</p>"},{"location":"reference/literals/#general","title":"General","text":"Literal Description <code>0</code> The number zero <code>1337</code> The positive number 1337 <code>-200</code> The negative number -200 <code>\"The quick brown fox jumps over the lazy dog\"</code> Text (sometimes referred to as \"string\") <code>[[Science]]</code> A link to the file named \"Science\" <code>[[]]</code> A link to the current file <code>[1, 2, 3]</code> A list of numbers 1, 2, and 3 <code>[[1, 2],[3, 4]]</code> A list of list [1, 2] and [3, 4] <code>{ a: 1, b: 2 }</code> An object with keys a and b, whereas a has value 1, b 2. <code>date(2021-07-14)</code> A date (read more below) <code>dur(2 days 4 hours)</code> A duration (read more below) <p>Literals as field values</p> <p>Literals are only interpreted this way when used inside a Query, not when used as a meta data value. For possible values and their data types for fields, please refer to Types of Metadata.</p>"},{"location":"reference/literals/#dates","title":"Dates","text":"<p>Whenever you use a field value in Date ISO format, you'll need to compare these fields against date objects. Dataview provides some shorthands for common use cases like tomorrow, start of current week etc. Please note that <code>date()</code> is also a function, which can be called on text to extract dates.</p> Literal Description <code>date(2021-11-11)</code> A date, November 11th, 2021 <code>date(2021-09-20T20:17)</code> A date, September 20th, 2021 at 20:17 <code>date(today)</code> A date representing the current date <code>date(now)</code> A date representing the current date and time <code>date(tomorrow)</code> A date representing tomorrow's date <code>date(yesterday)</code> A date representing yesterday's date <code>date(sow)</code> A date representing the start of the current week <code>date(eow)</code> A date representing the end of the current week <code>date(som)</code> A date representing the start of the current month <code>date(eom)</code> A date representing the end of the current month <code>date(soy)</code> A date representing the start of the current year <code>date(eoy)</code> A date representing the end of the current year"},{"location":"reference/literals/#durations","title":"Durations","text":"<p>Durations are representatives of a time span. You can either define them directly or create them due to calculating with dates, and use these for i.e. comparisons.</p>"},{"location":"reference/literals/#seconds","title":"Seconds","text":"Literal Description <code>dur(1 s)</code> one second <code>dur(3 s)</code> three seconds <code>dur(1 sec)</code> one second <code>dur(3 secs)</code> three seconds <code>dur(1 second)</code> one second <code>dur(3 seconds)</code> three seconds"},{"location":"reference/literals/#minutes","title":"Minutes","text":"Literal Description <code>dur(1 m)</code> one minute <code>dur(3 m)</code> three minutes <code>dur(1 min)</code> one minute <code>dur(3 mins)</code> three minutes <code>dur(1 minute)</code> one minute <code>dur(3 minutes)</code> three minutes"},{"location":"reference/literals/#hours","title":"Hours","text":"Literal Description <code>dur(1 h)</code> one hour <code>dur(3 h)</code> three hours <code>dur(1 hr)</code> one hour <code>dur(3 hrs)</code> three hours <code>dur(1 hour)</code> one hour <code>dur(3 hours)</code> three hours"},{"location":"reference/literals/#days","title":"Days","text":"Literal Description <code>dur(1 d)</code> one day <code>dur(3 d)</code> three days <code>dur(1 day)</code> one day <code>dur(3 days)</code> three days"},{"location":"reference/literals/#weeks","title":"Weeks","text":"Literal Description <code>dur(1 w)</code> one week <code>dur(3 w)</code> three weeks <code>dur(1 wk)</code> one week <code>dur(3 wks)</code> three weeks <code>dur(1 week)</code> one week <code>dur(3 weeks)</code> three weeks"},{"location":"reference/literals/#months","title":"Months","text":"Literal Description <code>dur(1 mo)</code> one month <code>dur(3 mo)</code> three month <code>dur(1 month)</code> one month <code>dur(3 months)</code> three months"},{"location":"reference/literals/#years","title":"Years","text":"Literal Description <code>dur(1 yr)</code> one year <code>dur(3 yrs)</code> three years <code>dur(1 year)</code> one year <code>dur(3 years)</code> three years"},{"location":"reference/literals/#combinations","title":"Combinations","text":"Literal Description <code>dur(1 s, 2 m, 3 h)</code> three hours, two minutes, and one second <code>dur(1 s 2 m 3 h)</code> three hours, two minutes, and one second <code>dur(1s 2m 3h)</code> three hours, two minutes, and one second <code>dur(1second 2min 3h)</code> three hours, two minutes, and one second"},{"location":"reference/sources/","title":"Sources","text":"<p>A dataview source is something that identifies a set of files, tasks, or other data. Sources are indexed internally by Dataview, so they are fast to query. The most prominent use of sources is the FROM data command. They are also used in various JavaScript API query calls.</p>"},{"location":"reference/sources/#types-of-sources","title":"Types of Sources","text":"<p>Dataview currently supports four source types.</p>"},{"location":"reference/sources/#tags","title":"Tags","text":"<p>Sources of the form <code>#tag</code>. These match all files / sections / tasks with the given tag.</p> <pre><code>```dataview\nLIST\nFROM #homework\n```\n</code></pre>"},{"location":"reference/sources/#folders","title":"Folders","text":"<p>Sources of the form <code>\"folder\"</code>. These match all files / sections / tasks contained in the given folder and its sub folders. The full vault path is expected instead of just the folder name. Note that trailing slashes are not supported, i.e. <code>\"Path/To/Folder/\"</code> will not work but <code>\"Path/To/Folder\"</code> will.</p> <pre><code>```dataview\nTABLE file.ctime, status\nFROM \"projects/brainstorming\"\n```\n</code></pre>"},{"location":"reference/sources/#specific-files","title":"Specific Files","text":"<p>You can select from a specific file by specifying it's full path: <code>\"folder/File\"</code>.</p> <ul> <li>If you have both a file and a folder with the exact same path, Dataview will prefer the folder. You can force it to read from the file by specifying an extension: <code>folder/File.md</code>.</li> </ul> <pre><code>```dataview\nLIST WITHOUT ID next-in-line\nFROM \"30 Hobbies/Games/Dashboard\"\n```\n</code></pre>"},{"location":"reference/sources/#links","title":"Links","text":"<p>You can either select links to a file, or all links from a file.</p> <ul> <li>To obtain all pages which link to <code>[[note]]</code>, use <code>[[note]]</code>.</li> <li>To obtain all pages which link from <code>[[note]]</code> (i.e., all the links in that file), use <code>outgoing([[note]])</code>.</li> <li>You can implicitly reference the current file via <code>[[#]]</code> or <code>[[]]</code>, i.e. <code>[[]]</code> lets you query from all files linking to the current file.</li> </ul> <pre><code>```dataview\nLIST\nFROM [[]]\n```\n\n```dataview\nLIST\nFROM outgoing([[Dashboard]])\n```\n</code></pre>"},{"location":"reference/sources/#combining-sources","title":"Combining Sources","text":"<p>You can compose these filters in order to get more advanced sources using <code>and</code> and <code>or</code>.</p> <ul> <li>For example, <code>#tag and \"folder\"</code> will return all pages in <code>folder</code> and with <code>#tag</code>.</li> <li>Querying from <code>#food and !#fastfood</code> will only return pages that contain <code>#food</code> but does not contain <code>#fastfood</code>.</li> <li><code>[[Food]] or [[Exercise]]</code> will give any pages which link to <code>[[Food]]</code> OR <code>[[Exercise]]</code>.</li> </ul> <p>If you have complex queries where grouping or precedence matters, you can use parenthesis to logically group them:</p> <ul> <li><code>#tag and (\"folder\" or #other-tag)</code></li> <li><code>(#tag1 or #tag2) and (#tag3 or #tag4)</code></li> </ul>"},{"location":"resources/develop-against-dataview/","title":"Developing Against Dataview","text":"<p>Dataview includes a high-level plugin-facing API as well as TypeScript definitions and a utility library; to install it, simply use:</p> <pre><code>npm install -D obsidian-dataview\n</code></pre> <p>To verify that it is the correct version installed, do <code>npm list obsidian-dataview</code>. If that fails to report the latest version, which currently is 0.5.64, you can do:</p> <pre><code>npm install obsidian-dataview@0.5.64\n</code></pre> <p>Note: If Git is not already installed on your local system, you will need to install it first. You may need to restart your device to complete the Git installation before you can install the Dataview API.</p>"},{"location":"resources/develop-against-dataview/#accessing-the-dataview-api","title":"Accessing the Dataview API","text":"<p>You can use the <code>getAPI()</code> function to obtain the Dataview Plugin API; this returns a <code>DataviewApi</code> object which provides various utilities, including rendering dataviews, checking dataview's version, hooking into the dataview event life cycle, and querying dataview metadata.</p> <pre><code>import { getAPI } from \"obsidian-dataview\";\n\nconst api = getAPI();\n</code></pre> <p>For full API definitions available, check index.ts or the plugin API definition plugin-api.ts.</p>"},{"location":"resources/develop-against-dataview/#binding-to-dataview-events","title":"Binding to Dataview Events","text":"<p>You can bind to dataview metadata events, which fire on all file updates and changes, via:</p> <pre><code>plugin.registerEvent(plugin.app.metadataCache.on(\"dataview:index-ready\", () =&gt; {\n    ...\n});\n\nplugin.registerEvent(plugin.app.metadataCache.on(\"dataview:metadata-change\",\n    (type, file, oldPath?) =&gt; { ... }));\n</code></pre> <p>For all events hooked on MetadataCache, check index.ts.</p>"},{"location":"resources/develop-against-dataview/#value-utilities","title":"Value Utilities","text":"<p>You can access various type utilities which let you check the types of objects and compare them via <code>Values</code>:</p> <pre><code>import { getAPI, Values } from \"obsidian-dataview\";\n\nconst field = getAPI(plugin.app)?.page('sample.md').field;\nif (!field) return;\n\nif (Values.isHtml(field)) // do something\nelse if (Values.isLink(field)) // do something\n// ...\n</code></pre>"},{"location":"resources/examples/","title":"Examples","text":"<p>A small collection of simple usages of the dataview query language.</p> <p>Show all games in the games folder, sorted by rating, with some metadata:</p> Query <pre><code>TABLE\n  time-played AS \"Time Played\",\n  length AS \"Length\",\n  rating AS \"Rating\"\nFROM \"games\"\nSORT rating DESC\n</code></pre> Output File Time Played Length Rating Outer Wilds November 19th - 21st, 2020 15h 9.5 Minecraft All the time. 2000h 9.5 Pillars of Eternity 2 August - October 2019 100h 9 <p>List games which are MOBAs or CRPGs.</p> Query <pre><code>LIST FROM #games/mobas OR #games/crpg\n</code></pre> Output <ul> <li>League of Legends</li> <li>Pillars of Eternity 2</li> </ul> <p>List all tasks in un-completed projects:</p> Query <pre><code>TASK FROM \"dataview\"\n</code></pre> Output <p>dataview/Project A</p> <ul> <li> I am a task.</li> <li> I am another task.</li> </ul> <p>dataview/Project A</p> <ul> <li> I could be a task, though who knows.<ul> <li> Determine if this is a task.</li> </ul> </li> <li> I'm a finished task.</li> </ul> <p>List all of the files in the <code>books</code> folder, sorted by the last time you modified the file:</p> Query <pre><code>TABLE file.mtime AS \"Last Modified\"\nFROM \"books\"\nSORT file.mtime DESC\n</code></pre> Output File Last Modified Atomic Habits 11:06 PM - August 07, 2021 Can't Hurt Me 10:58 PM - August 07, 2021 Deep Work 10:52 PM - August 07, 2021 <p>List all files which have a date in their title (of the form <code>yyyy-mm-dd</code>), and list them by date order.</p> Query <pre><code>LIST file.day WHERE file.day\nSORT file.day DESC\n</code></pre> Output <ul> <li>2021-08-07: August 07, 2021</li> <li>2020-08-10: August 10, 2020</li> </ul>"},{"location":"resources/faq/","title":"Frequently Asked Questions","text":"<p>A collection of frequently asked questions for Dataview queries and the expression language.</p>"},{"location":"resources/faq/#how-do-i-use-fields-with-the-same-name-as-keywords-like-from-where","title":"How do I use fields with the same name as keywords (like \"from\", \"where\")?","text":"<p>Dataview provides a special \"fake\" field called <code>row</code> which can be indexed into to obtain fields which conflict with Dataview keywords:</p> <pre><code>row.from /* Same as \"from\" */\nrow.where /* Same as \"where\" */\n</code></pre>"},{"location":"resources/faq/#how-do-i-access-fields-with-spaces-in-the-name","title":"How do I access fields with spaces in the name?","text":"<p>There are two ways:</p> <ol> <li>Use the normalized Dataview name for such a field - just convert the name to lowercase and replace whitespace with    dashes (\"-\"). Something like <code>Field With Space In It</code> becomes <code>field-with-space-in-it</code>.</li> <li>Use the implicit <code>row</code> field:     <pre><code>row[\"Field With Space In It\"]\n</code></pre></li> </ol>"},{"location":"resources/faq/#do-you-have-a-list-of-resources-to-learn-from","title":"Do you have a list of resources to learn from?","text":"<p>Yes! Please see the Resources page.</p>"},{"location":"resources/faq/#can-i-save-the-result-of-a-query-for-reusability","title":"Can I save the result of a query for reusability?","text":"<p>You can write reusable Javascript Queries with the dv.view function. In DQL, beside the possibility of writing your Query inside a Template and using this template (either with the Core Plugin Templates or the popular Community Plugin Templater), you can save calculations in metadata fields via Inline DQL, for example:</p> <pre><code>start:: 07h00m\nend:: 18h00m\npause:: 01h30m\nduration:: `= this.end - this.start - this.pause`\n</code></pre> <p>You can list the value (9h 30m in our example) then i.e. in a TABLE without needing to repeat the calculation:</p> <pre><code>```dataview\nTABLE start, end, duration\nWHERE duration\n```\n</code></pre> <p>Gives you</p> File (1) start end duration Example 7 hours 18 hours 9 hours, 30 minutes <p>But storing a Inline DQL in a field comes with a limitation: While the value that gets displayed in the result is the calculated one, the saved value inside your metadata field is still your Inline DQL calculation. The value is literally <code>= this.end - this.start - this.pause</code>. This means you cannot filter for the Inlines' result like:</p> <pre><code>```dataview\nTABLE start, end, duration\nWHERE duration &gt; dur(\"10h\")\n```\n</code></pre> <p>This will give you back the example page, even though the result doesn't fulfill the <code>WHERE</code> clause, because the value you are comparing against is <code>= this.end - this.start - this.pause</code> and is not a duration.</p>"},{"location":"resources/faq/#how-can-i-hide-the-result-count-on-table-queries","title":"How can I hide the result count on TABLE Queries?","text":"<p>With Dataview 0.5.52, you can hide the result count on TABLE and TASK Queries via a setting. Go to Dataview's settings -&gt; Display result count.</p>"},{"location":"resources/faq/#how-can-i-style-my-queries","title":"How can I style my queries?","text":"<p>You can use CSS Snippets to define custom styling in general for Obsidian. So if you define <code>cssclasses: myTable</code> as a property, and enable the snippet below you could set the background color of a table from dataview. Similar to target the outer &lt;ul&gt; of a <code>TASK</code> or <code>LIST</code> query, you could use the <code>ul.contains-task-list</code> or <code>ul.list-view-ul</code> respectively.</p> <pre><code>.myTable dataview.table {\n    background-color: green\n}\n</code></pre> <p>In general there are no unique ID's given to a specific table on a page, so the mentioned targeting applies to any note having that <code>cssclasses</code> defined and all tables on that page. Currently you can't target a specific table using an ordinary query, but if you're using javascript, you can add the class <code>clsname</code> directly to your query result by doing:</p> <pre><code>dv.container.className += ' clsname'\n</code></pre> <p>However, there is a trick to target any table within Obsidian using tags like in the example below, and that would apply to any table having that tag tag within it. This would apply to both manually and dataview generated tables. To make the snippet below work add the tag <code>#myId</code> anywhere within your table output.</p> <pre><code>[href=\"#myId\"] {\n    display: none; /* Hides the tag from the table view */\n}\n\ntable:has([href=\"#myId\"]) {\n   /* Style your table as you like */\n  background-color: #262626;\n  &amp; tr:nth-child(even) td:first-child{\n    background-color: #3f3f3f;\n  }\n}\n</code></pre> <p>Which would end up having a grey background on the entire table, and the first cell in every even row a different variant of grey. Disclaimer: We're not style gurus, so this is just an example to show some of the syntax needed for styling different parts of a table.</p> <p>Furthermore, in Style dataview table columns @s-blu describes an alternate trick using <code>&lt;span&gt;</code> to style various parts of table cells (and columns).</p>"},{"location":"resources/resources-and-support/","title":"Other Resources","text":"<p>There is a bit of a learning curve to getting started with Dataview. This page is a collection of resources that will help you get started. Dataview gets new features and fixes fairly frequently so please account for these resources being slightly out of date. Feel free to contribute directly to this list, documentation, or even reach out to the authors of the original sources for updates.</p>"},{"location":"resources/resources-and-support/#resources","title":"Resources","text":""},{"location":"resources/resources-and-support/#the-obsidian-hub","title":"The Obsidian Hub","text":"<ul> <li>SkepticMystic's Introduction to Dataview supplemented by a textual guide</li> </ul>"},{"location":"resources/resources-and-support/#youtube-videos","title":"YouTube videos","text":"<ul> <li>SkepticMystic's aforementioned community talk</li> <li>Dataview Plugin: How To Use This Powerful Obsidian Plugin (With Examples) by Filipe Donadio</li> <li>Automate Your Vault With Dataview - How To Use Dataview in Obsidian by FromSergio</li> <li>How to use the Obsidian Dataview plugin by Nicole van der Hoeven</li> <li>Intro to Dataview Plugin - Obsidian Community Talk</li> </ul>"},{"location":"resources/resources-and-support/#example-vault","title":"Example Vault","text":"<ul> <li>@s-blu has very kindly put together a vault of example queries that you can use as a playground of sorts.</li> </ul>"},{"location":"resources/resources-and-support/#blog-posts","title":"Blog Posts","text":"<ul> <li>Obsidian Dataview For Beginners: A checklist to help fix your dataview queries</li> </ul>"},{"location":"resources/resources-and-support/#github-discussion","title":"GitHub Discussion","text":"<p>The GitHub repository has a fairly active Discussions Page with dozens of answered questions.</p>"},{"location":"resources/resources-and-support/#obsidian-forums","title":"Obsidian Forums","text":"<p>The Obsidian Forums have a wealth of questions and answers and other interesting tidbits as well. Try searching the forums for an answer, especially if it seems like a beginner question.</p>"},{"location":"resources/resources-and-support/#discord","title":"Discord","text":"<p>The Obsidian Members Group Discord server has a <code>#dataview</code> channel. Once again, more likely than not, your question has been asked before so try searching the thread though it is known that Discord's search can be spotty. In case you don't find anything satisfactory,  This is the closest you'll get to real-time support but there are no guarantees of instant replies. There are many helpful people though so don't be afraid to ask.</p>"},{"location":"resources/resources-and-support/#support","title":"Support","text":"<p>Where do you go when you have questions? Here's what we recommend you try.</p> <ol> <li>Search GitHub Discussions and the Obsidian Forums for your question.</li> <li>Search through Discord for possible solutions.</li> <li>Depending on the complexity of the your question:</li> <li>If you need close to synchronous communication, use Discord. Note that we are a community of volunteers and there may be delays in responding.</li> <li>If you expect your problem needs time over multiple days and asynchronous communication, open a GitHub discussion.</li> <li>If you found a bug, please report it in the repo's issues.</li> </ol>"}]}